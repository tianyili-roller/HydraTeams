// @ts-nocheck
// This file is auto-generated by @hey-api/openapi-ts

import * as z from 'zod';

/**
 * APIError
 */
export const zApiError = z.object({
    message: z.string().default('Internal server error'),
    type: z.literal('api_error').default('api_error')
});

/**
 * AuthenticationError
 */
export const zAuthenticationError = z.object({
    message: z.string().default('Authentication error'),
    type: z.literal('authentication_error').default('authentication_error')
});

/**
 * Base64ImageSource
 */
export const zBase64ImageSource = z.object({
    data: z.string(),
    media_type: z.enum([
        'image/jpeg',
        'image/png',
        'image/gif',
        'image/webp'
    ]),
    type: z.literal('base64')
});

/**
 * Base64PDFSource
 */
export const zBase64PdfSource = z.object({
    data: z.string(),
    media_type: z.literal('application/pdf'),
    type: z.literal('base64')
});

/**
 * APIError
 */
export const zBetaApiError = z.object({
    message: z.string().default('Internal server error'),
    type: z.literal('api_error').default('api_error')
});

/**
 * AllThinkingTurns
 */
export const zBetaAllThinkingTurns = z.object({
    type: z.literal('all')
});

/**
 * AuthenticationError
 */
export const zBetaAuthenticationError = z.object({
    message: z.string().default('Authentication error'),
    type: z.literal('authentication_error').default('authentication_error')
});

/**
 * Base64ImageSource
 */
export const zBetaBase64ImageSource = z.object({
    data: z.string(),
    media_type: z.enum([
        'image/jpeg',
        'image/png',
        'image/gif',
        'image/webp'
    ]),
    type: z.literal('base64')
});

/**
 * Base64PDFSource
 */
export const zBetaBase64PdfSource = z.object({
    data: z.string(),
    media_type: z.literal('application/pdf'),
    type: z.literal('base64')
});

/**
 * BashCodeExecutionToolResultErrorCode
 */
export const zBetaBashCodeExecutionToolResultErrorCode = z.enum([
    'invalid_tool_input',
    'unavailable',
    'too_many_requests',
    'execution_time_exceeded',
    'output_file_too_large'
]);

/**
 * BillingError
 */
export const zBetaBillingError = z.object({
    message: z.string().default('Billing error'),
    type: z.literal('billing_error').default('billing_error')
});

/**
 * Body_create_skill_v1_skills_post
 */
export const zBetaBodyCreateSkillV1SkillsPost = z.object({
    display_title: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    files: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ]))
});

/**
 * Body_create_skill_version_v1_skills__skill_id__versions_post
 */
export const zBetaBodyCreateSkillVersionV1SkillsSkillIdVersionsPost = z.object({
    files: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ]))
});

/**
 * CacheControlEphemeral
 */
export const zBetaCacheControlEphemeral = z.object({
    ttl: z.optional(z.enum(['5m', '1h'])),
    type: z.literal('ephemeral')
});

/**
 * CacheCreation
 */
export const zBetaCacheCreation = z.object({
    ephemeral_1h_input_tokens: z.int().gte(0).default(0),
    ephemeral_5m_input_tokens: z.int().gte(0).default(0)
});

/**
 * CanceledResult
 */
export const zBetaCanceledResult = z.object({
    type: z.literal('canceled').default('canceled')
});

/**
 * CodeExecutionToolResultErrorCode
 */
export const zBetaCodeExecutionToolResultErrorCode = z.enum([
    'invalid_tool_input',
    'unavailable',
    'too_many_requests',
    'execution_time_exceeded'
]);

/**
 * CodeExecutionTool_20250522
 */
export const zBetaCodeExecutionTool20250522 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    name: z.literal('code_execution'),
    strict: z.optional(z.boolean()),
    type: z.literal('code_execution_20250522')
});

/**
 * CodeExecutionTool_20250825
 */
export const zBetaCodeExecutionTool20250825 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    name: z.literal('code_execution'),
    strict: z.optional(z.boolean()),
    type: z.literal('code_execution_20250825')
});

/**
 * CompactionContentBlockDelta
 */
export const zBetaCompactionContentBlockDelta = z.object({
    content: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('compaction_delta').default('compaction_delta')
});

/**
 * CompactionIterationUsage
 *
 * Token usage for a compaction iteration.
 */
export const zBetaCompactionIterationUsage = z.object({
    cache_creation: z.union([
        zBetaCacheCreation,
        z.null()
    ]).default(null),
    cache_creation_input_tokens: z.int().gte(0).default(0),
    cache_read_input_tokens: z.int().gte(0).default(0),
    input_tokens: z.int().gte(0),
    output_tokens: z.int().gte(0),
    type: z.literal('compaction').default('compaction')
});

/**
 * ContentBlockStopEvent
 */
export const zBetaContentBlockStopEvent = z.object({
    index: z.int(),
    type: z.literal('content_block_stop').default('content_block_stop')
});

/**
 * ContextManagementResponse
 */
export const zBetaContextManagementResponse = z.object({
    original_input_tokens: z.int()
});

/**
 * CountMessageTokensResponse
 */
export const zBetaCountMessageTokensResponse = z.object({
    context_management: z.union([
        zBetaContextManagementResponse,
        z.null()
    ]),
    input_tokens: z.int()
});

/**
 * CreateSkillResponse
 */
export const zBetaCreateSkillResponse = z.object({
    created_at: z.string(),
    display_title: z.union([
        z.string(),
        z.null()
    ]),
    id: z.string(),
    latest_version: z.union([
        z.string(),
        z.null()
    ]),
    source: z.string(),
    type: z.string().default('skill'),
    updated_at: z.string()
});

/**
 * CreateSkillVersionResponse
 */
export const zBetaCreateSkillVersionResponse = z.object({
    created_at: z.string(),
    description: z.string(),
    directory: z.string(),
    id: z.string(),
    name: z.string(),
    skill_id: z.string(),
    type: z.string().default('skill_version'),
    version: z.string()
});

/**
 * DeleteMessageBatchResponse
 */
export const zBetaDeleteMessageBatchResponse = z.object({
    id: z.string(),
    type: z.literal('message_batch_deleted').default('message_batch_deleted')
});

/**
 * DeleteSkillResponse
 */
export const zBetaDeleteSkillResponse = z.object({
    id: z.string(),
    type: z.string().default('skill_deleted')
});

/**
 * DeleteSkillVersionResponse
 */
export const zBetaDeleteSkillVersionResponse = z.object({
    id: z.string(),
    type: z.string().default('skill_version_deleted')
});

/**
 * DirectCaller
 *
 * Tool invocation directly from the model.
 */
export const zBetaDirectCaller = z.object({
    type: z.literal('direct')
});

/**
 * EffortLevel
 *
 * All possible effort levels.
 */
export const zBetaEffortLevel = z.enum([
    'low',
    'medium',
    'high',
    'max'
]);

/**
 * ErrorType
 */
export const zBetaErrorType = z.enum([
    'invalid_request_error',
    'authentication_error',
    'permission_error',
    'not_found_error',
    'rate_limit_error',
    'timeout_error',
    'overloaded_error',
    'api_error',
    'billing_error'
]);

/**
 * ExpiredResult
 */
export const zBetaExpiredResult = z.object({
    type: z.literal('expired').default('expired')
});

/**
 * FileDeleteResponse
 */
export const zBetaFileDeleteResponse = z.object({
    id: z.string(),
    type: z.optional(z.literal('file_deleted')).default('file_deleted')
});

/**
 * FileDocumentSource
 */
export const zBetaFileDocumentSource = z.object({
    file_id: z.string(),
    type: z.literal('file')
});

/**
 * FileImageSource
 */
export const zBetaFileImageSource = z.object({
    file_id: z.string(),
    type: z.literal('file')
});

/**
 * FileMetadataSchema
 */
export const zBetaFileMetadataSchema = z.object({
    created_at: z.iso.datetime(),
    downloadable: z.optional(z.boolean()).default(false),
    filename: z.string().min(1).max(500),
    id: z.string(),
    mime_type: z.string().min(1).max(255),
    size_bytes: z.int().gte(0),
    type: z.literal('file')
});

/**
 * FileListResponse
 */
export const zBetaFileListResponse = z.object({
    data: z.array(zBetaFileMetadataSchema),
    first_id: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    has_more: z.optional(z.boolean()).default(false),
    last_id: z.optional(z.union([
        z.string(),
        z.null()
    ]))
});

/**
 * GatewayTimeoutError
 */
export const zBetaGatewayTimeoutError = z.object({
    message: z.string().default('Request timeout'),
    type: z.literal('timeout_error').default('timeout_error')
});

/**
 * GetSkillResponse
 */
export const zBetaGetSkillResponse = z.object({
    created_at: z.string(),
    display_title: z.union([
        z.string(),
        z.null()
    ]),
    id: z.string(),
    latest_version: z.union([
        z.string(),
        z.null()
    ]),
    source: z.string(),
    type: z.string().default('skill'),
    updated_at: z.string()
});

/**
 * GetSkillVersionResponse
 */
export const zBetaGetSkillVersionResponse = z.object({
    created_at: z.string(),
    description: z.string(),
    directory: z.string(),
    id: z.string(),
    name: z.string(),
    skill_id: z.string(),
    type: z.string().default('skill_version'),
    version: z.string()
});

/**
 * InputJsonContentBlockDelta
 */
export const zBetaInputJsonContentBlockDelta = z.object({
    partial_json: z.string(),
    type: z.literal('input_json_delta').default('input_json_delta')
});

/**
 * InputSchema
 */
export const zBetaInputSchema = z.object({
    properties: z.optional(z.union([
        z.record(z.string(), z.unknown()),
        z.null()
    ])),
    required: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    type: z.literal('object')
});

/**
 * InputTokensClearAtLeast
 */
export const zBetaInputTokensClearAtLeast = z.object({
    type: z.literal('input_tokens'),
    value: z.int().gte(0)
});

/**
 * InputTokensTrigger
 */
export const zBetaInputTokensTrigger = z.object({
    type: z.literal('input_tokens'),
    value: z.int().gte(1)
});

/**
 * Compact20260112
 *
 * Automatically compact older context when reaching the configured trigger threshold.
 */
export const zBetaCompact20260112 = z.object({
    instructions: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    pause_after_compaction: z.optional(z.boolean()),
    trigger: z.optional(z.union([
        zBetaInputTokensTrigger,
        z.null()
    ])),
    type: z.literal('compact_20260112')
});

/**
 * InvalidRequestError
 */
export const zBetaInvalidRequestError = z.object({
    message: z.string().default('Invalid request'),
    type: z.literal('invalid_request_error').default('invalid_request_error')
});

/**
 * JsonOutputFormat
 */
export const zBetaJsonOutputFormat = z.object({
    schema: z.record(z.string(), z.unknown()),
    type: z.literal('json_schema')
});

export const zBetaJsonValue = z.unknown();

/**
 * BashTool_20241022
 */
export const zBetaBashTool20241022 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('bash'),
    strict: z.optional(z.boolean()),
    type: z.literal('bash_20241022')
});

/**
 * BashTool_20250124
 */
export const zBetaBashTool20250124 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('bash'),
    strict: z.optional(z.boolean()),
    type: z.literal('bash_20250124')
});

/**
 * ComputerUseTool_20241022
 */
export const zBetaComputerUseTool20241022 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    display_height_px: z.int().gte(1),
    display_number: z.optional(z.union([
        z.int().gte(0),
        z.null()
    ])),
    display_width_px: z.int().gte(1),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('computer'),
    strict: z.optional(z.boolean()),
    type: z.literal('computer_20241022')
});

/**
 * ComputerUseTool_20250124
 */
export const zBetaComputerUseTool20250124 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    display_height_px: z.int().gte(1),
    display_number: z.optional(z.union([
        z.int().gte(0),
        z.null()
    ])),
    display_width_px: z.int().gte(1),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('computer'),
    strict: z.optional(z.boolean()),
    type: z.literal('computer_20250124')
});

/**
 * ComputerUseTool_20251124
 */
export const zBetaComputerUseTool20251124 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    display_height_px: z.int().gte(1),
    display_number: z.optional(z.union([
        z.int().gte(0),
        z.null()
    ])),
    display_width_px: z.int().gte(1),
    enable_zoom: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('computer'),
    strict: z.optional(z.boolean()),
    type: z.literal('computer_20251124')
});

/**
 * MCPToolConfig
 *
 * Configuration for a specific tool in an MCP toolset.
 */
export const zBetaMcpToolConfig = z.object({
    defer_loading: z.optional(z.boolean()),
    enabled: z.optional(z.boolean())
});

/**
 * MCPToolDefaultConfig
 *
 * Default configuration for tools in an MCP toolset.
 */
export const zBetaMcpToolDefaultConfig = z.object({
    defer_loading: z.optional(z.boolean()),
    enabled: z.optional(z.boolean())
});

/**
 * MCPToolset
 *
 * Configuration for a group of tools from an MCP server.
 *
 * Allows configuring enabled status and defer_loading for all tools
 * from an MCP server, with optional per-tool overrides.
 */
export const zBetaMcpToolset = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    configs: z.optional(z.union([
        z.record(z.string(), zBetaMcpToolConfig),
        z.null()
    ])),
    default_config: z.optional(zBetaMcpToolDefaultConfig),
    mcp_server_name: z.string().min(1).max(255),
    type: z.literal('mcp_toolset')
});

/**
 * MemoryTool_20250818
 */
export const zBetaMemoryTool20250818 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('memory'),
    strict: z.optional(z.boolean()),
    type: z.literal('memory_20250818')
});

/**
 * MessageIterationUsage
 *
 * Token usage for a sampling iteration.
 */
export const zBetaMessageIterationUsage = z.object({
    cache_creation: z.union([
        zBetaCacheCreation,
        z.null()
    ]).default(null),
    cache_creation_input_tokens: z.int().gte(0).default(0),
    cache_read_input_tokens: z.int().gte(0).default(0),
    input_tokens: z.int().gte(0),
    output_tokens: z.int().gte(0),
    type: z.literal('message').default('message')
});

/**
 * MessageStopEvent
 */
export const zBetaMessageStopEvent = z.object({
    type: z.literal('message_stop').default('message_stop')
});

/**
 * Metadata
 */
export const zBetaMetadata = z.object({
    user_id: z.optional(z.union([
        z.string().max(256),
        z.null()
    ]))
});

/**
 * ModelInfo
 */
export const zBetaModelInfo = z.object({
    created_at: z.iso.datetime(),
    display_name: z.string(),
    id: z.string(),
    type: z.literal('model').default('model')
});

/**
 * ListResponse[ModelInfo]
 */
export const zBetaListResponseModelInfo = z.object({
    data: z.array(zBetaModelInfo),
    first_id: z.union([
        z.string(),
        z.null()
    ]),
    has_more: z.boolean(),
    last_id: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * NotFoundError
 */
export const zBetaNotFoundError = z.object({
    message: z.string().default('Not found'),
    type: z.literal('not_found_error').default('not_found_error')
});

/**
 * OutputConfig
 */
export const zBetaOutputConfig = z.object({
    effort: z.optional(z.union([
        zBetaEffortLevel,
        z.null()
    ])),
    format: z.optional(z.union([
        zBetaJsonOutputFormat,
        z.null()
    ]))
});

/**
 * OverloadedError
 */
export const zBetaOverloadedError = z.object({
    message: z.string().default('Overloaded'),
    type: z.literal('overloaded_error').default('overloaded_error')
});

/**
 * PermissionError
 */
export const zBetaPermissionError = z.object({
    message: z.string().default('Permission denied'),
    type: z.literal('permission_error').default('permission_error')
});

/**
 * PlainTextSource
 */
export const zBetaPlainTextSource = z.object({
    data: z.string(),
    media_type: z.literal('text/plain'),
    type: z.literal('text')
});

/**
 * RateLimitError
 */
export const zBetaRateLimitError = z.object({
    message: z.string().default('Rate limited'),
    type: z.literal('rate_limit_error').default('rate_limit_error')
});

/**
 * ErrorResponse
 */
export const zBetaErrorResponse = z.object({
    error: z.union([
        z.object({
            type: z.literal('invalid_request_error')
        }).and(zBetaInvalidRequestError),
        z.object({
            type: z.literal('authentication_error')
        }).and(zBetaAuthenticationError),
        z.object({
            type: z.literal('billing_error')
        }).and(zBetaBillingError),
        z.object({
            type: z.literal('permission_error')
        }).and(zBetaPermissionError),
        z.object({
            type: z.literal('not_found_error')
        }).and(zBetaNotFoundError),
        z.object({
            type: z.literal('rate_limit_error')
        }).and(zBetaRateLimitError),
        z.object({
            type: z.literal('timeout_error')
        }).and(zBetaGatewayTimeoutError),
        z.object({
            type: z.literal('api_error')
        }).and(zBetaApiError),
        z.object({
            type: z.literal('overloaded_error')
        }).and(zBetaOverloadedError)
    ]),
    request_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    type: z.literal('error').default('error')
});

/**
 * ErroredResult
 */
export const zBetaErroredResult = z.object({
    error: zBetaErrorResponse,
    type: z.literal('errored').default('errored')
});

/**
 * RequestBashCodeExecutionOutputBlock
 */
export const zBetaRequestBashCodeExecutionOutputBlock = z.object({
    file_id: z.string(),
    type: z.literal('bash_code_execution_output')
});

/**
 * RequestBashCodeExecutionResultBlock
 */
export const zBetaRequestBashCodeExecutionResultBlock = z.object({
    content: z.array(zBetaRequestBashCodeExecutionOutputBlock),
    return_code: z.int(),
    stderr: z.string(),
    stdout: z.string(),
    type: z.literal('bash_code_execution_result')
});

/**
 * RequestBashCodeExecutionToolResultError
 */
export const zBetaRequestBashCodeExecutionToolResultError = z.object({
    error_code: zBetaBashCodeExecutionToolResultErrorCode,
    type: z.literal('bash_code_execution_tool_result_error')
});

/**
 * RequestBashCodeExecutionToolResultBlock
 */
export const zBetaRequestBashCodeExecutionToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        zBetaRequestBashCodeExecutionToolResultError,
        zBetaRequestBashCodeExecutionResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('bash_code_execution_tool_result')
});

/**
 * RequestCharLocationCitation
 */
export const zBetaRequestCharLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string().min(1).max(255),
        z.null()
    ]),
    end_char_index: z.int(),
    start_char_index: z.int().gte(0),
    type: z.literal('char_location')
});

/**
 * RequestCitationsConfig
 */
export const zBetaRequestCitationsConfig = z.object({
    enabled: z.optional(z.boolean())
});

/**
 * RequestCodeExecutionOutputBlock
 */
export const zBetaRequestCodeExecutionOutputBlock = z.object({
    file_id: z.string(),
    type: z.literal('code_execution_output')
});

/**
 * Result Block
 */
export const zBetaRequestCodeExecutionResultBlock = z.object({
    content: z.array(zBetaRequestCodeExecutionOutputBlock),
    return_code: z.int(),
    stderr: z.string(),
    stdout: z.string(),
    type: z.literal('code_execution_result')
});

/**
 * Error
 */
export const zBetaRequestCodeExecutionToolResultError = z.object({
    error_code: zBetaCodeExecutionToolResultErrorCode,
    type: z.literal('code_execution_tool_result_error')
});

/**
 * RequestCodeExecutionToolResultBlock
 */
export const zBetaRequestCodeExecutionToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        zBetaRequestCodeExecutionToolResultError,
        zBetaRequestCodeExecutionResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('code_execution_tool_result')
});

/**
 * RequestCompactionBlock
 *
 * A compaction block containing summary of previous context.
 *
 * Users should round-trip these blocks from responses to subsequent requests
 * to maintain context across compaction boundaries.
 *
 * When content is None, the block represents a failed compaction. The server
 * treats these as no-ops. Empty string content is not allowed.
 */
export const zBetaRequestCompactionBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('compaction')
});

/**
 * RequestContainerUploadBlock
 *
 * A content block that represents a file to be uploaded to the container
 * Files uploaded via this block will be available in the container's input directory.
 */
export const zBetaRequestContainerUploadBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    file_id: z.string(),
    type: z.literal('container_upload')
});

/**
 * RequestContentBlockLocationCitation
 */
export const zBetaRequestContentBlockLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string().min(1).max(255),
        z.null()
    ]),
    end_block_index: z.int(),
    start_block_index: z.int().gte(0),
    type: z.literal('content_block_location')
});

/**
 * RequestCounts
 */
export const zBetaRequestCounts = z.object({
    canceled: z.int().default(0),
    errored: z.int().default(0),
    expired: z.int().default(0),
    processing: z.int().default(0),
    succeeded: z.int().default(0)
});

/**
 * MessageBatch
 */
export const zBetaMessageBatch = z.object({
    archived_at: z.union([
        z.iso.datetime(),
        z.null()
    ]),
    cancel_initiated_at: z.union([
        z.iso.datetime(),
        z.null()
    ]),
    created_at: z.iso.datetime(),
    ended_at: z.union([
        z.iso.datetime(),
        z.null()
    ]),
    expires_at: z.iso.datetime(),
    id: z.string(),
    processing_status: z.enum([
        'in_progress',
        'canceling',
        'ended'
    ]),
    request_counts: zBetaRequestCounts,
    results_url: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('message_batch').default('message_batch')
});

/**
 * ListResponse[MessageBatch]
 */
export const zBetaListResponseMessageBatch = z.object({
    data: z.array(zBetaMessageBatch),
    first_id: z.union([
        z.string(),
        z.null()
    ]),
    has_more: z.boolean(),
    last_id: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * RequestMCPServerToolConfiguration
 */
export const zBetaRequestMcpServerToolConfiguration = z.object({
    allowed_tools: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    enabled: z.optional(z.union([
        z.boolean(),
        z.null()
    ]))
});

/**
 * RequestMCPServerURLDefinition
 */
export const zBetaRequestMcpServerUrlDefinition = z.object({
    authorization_token: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    name: z.string(),
    tool_configuration: z.optional(z.union([
        zBetaRequestMcpServerToolConfiguration,
        z.null()
    ])),
    type: z.literal('url'),
    url: z.string()
});

/**
 * RequestMCPToolUseBlock
 */
export const zBetaRequestMcpToolUseBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.string(),
    server_name: z.string(),
    type: z.literal('mcp_tool_use')
});

/**
 * RequestPageLocationCitation
 */
export const zBetaRequestPageLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string().min(1).max(255),
        z.null()
    ]),
    end_page_number: z.int(),
    start_page_number: z.int().gte(1),
    type: z.literal('page_location')
});

/**
 * RequestRedactedThinkingBlock
 */
export const zBetaRequestRedactedThinkingBlock = z.object({
    data: z.string(),
    type: z.literal('redacted_thinking')
});

/**
 * RequestSearchResultLocationCitation
 */
export const zBetaRequestSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    end_block_index: z.int(),
    search_result_index: z.int().gte(0),
    source: z.string(),
    start_block_index: z.int().gte(0),
    title: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('search_result_location')
});

/**
 * RequestTextEditorCodeExecutionCreateResultBlock
 */
export const zBetaRequestTextEditorCodeExecutionCreateResultBlock = z.object({
    is_file_update: z.boolean(),
    type: z.literal('text_editor_code_execution_create_result')
});

/**
 * RequestTextEditorCodeExecutionStrReplaceResultBlock
 */
export const zBetaRequestTextEditorCodeExecutionStrReplaceResultBlock = z.object({
    lines: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    new_lines: z.optional(z.union([
        z.int(),
        z.null()
    ])),
    new_start: z.optional(z.union([
        z.int(),
        z.null()
    ])),
    old_lines: z.optional(z.union([
        z.int(),
        z.null()
    ])),
    old_start: z.optional(z.union([
        z.int(),
        z.null()
    ])),
    type: z.literal('text_editor_code_execution_str_replace_result')
});

/**
 * RequestTextEditorCodeExecutionViewResultBlock
 */
export const zBetaRequestTextEditorCodeExecutionViewResultBlock = z.object({
    content: z.string(),
    file_type: z.enum([
        'text',
        'image',
        'pdf'
    ]),
    num_lines: z.optional(z.union([
        z.int(),
        z.null()
    ])),
    start_line: z.optional(z.union([
        z.int(),
        z.null()
    ])),
    total_lines: z.optional(z.union([
        z.int(),
        z.null()
    ])),
    type: z.literal('text_editor_code_execution_view_result')
});

/**
 * RequestThinkingBlock
 */
export const zBetaRequestThinkingBlock = z.object({
    signature: z.string(),
    thinking: z.string(),
    type: z.literal('thinking')
});

/**
 * RequestToolReferenceBlock
 *
 * Tool reference block that can be included in tool_result content.
 */
export const zBetaRequestToolReferenceBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    tool_name: z.string().min(1).max(256).regex(/^[a-zA-Z0-9_-]{1,256}$/),
    type: z.literal('tool_reference')
});

/**
 * RequestToolSearchToolSearchResultBlock
 */
export const zBetaRequestToolSearchToolSearchResultBlock = z.object({
    tool_references: z.array(zBetaRequestToolReferenceBlock),
    type: z.literal('tool_search_tool_search_result')
});

/**
 * RequestWebSearchResultBlock
 */
export const zBetaRequestWebSearchResultBlock = z.object({
    encrypted_content: z.string(),
    page_age: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    title: z.string(),
    type: z.literal('web_search_result'),
    url: z.string()
});

/**
 * RequestWebSearchResultLocationCitation
 */
export const zBetaRequestWebSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    encrypted_index: z.string(),
    title: z.union([
        z.string().min(1).max(512),
        z.null()
    ]),
    type: z.literal('web_search_result_location'),
    url: z.string().min(1).max(2048)
});

/**
 * RequestTextBlock
 */
export const zBetaRequestTextBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    citations: z.optional(z.union([
        z.array(z.union([
            z.object({
                type: z.literal('char_location')
            }).and(zBetaRequestCharLocationCitation),
            z.object({
                type: z.literal('page_location')
            }).and(zBetaRequestPageLocationCitation),
            z.object({
                type: z.literal('content_block_location')
            }).and(zBetaRequestContentBlockLocationCitation),
            z.object({
                type: z.literal('web_search_result_location')
            }).and(zBetaRequestWebSearchResultLocationCitation),
            z.object({
                type: z.literal('search_result_location')
            }).and(zBetaRequestSearchResultLocationCitation)
        ])),
        z.null()
    ])),
    text: z.string().min(1),
    type: z.literal('text')
});

/**
 * RequestMCPToolResultBlock
 */
export const zBetaRequestMcpToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.optional(z.union([
        z.string(),
        z.array(zBetaRequestTextBlock)
    ])),
    is_error: z.optional(z.boolean()),
    tool_use_id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    type: z.literal('mcp_tool_result')
});

/**
 * RequestSearchResultBlock
 */
export const zBetaRequestSearchResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    citations: z.optional(zBetaRequestCitationsConfig),
    content: z.array(zBetaRequestTextBlock),
    source: z.string(),
    title: z.string(),
    type: z.literal('search_result')
});

/**
 * ResponseBashCodeExecutionOutputBlock
 */
export const zBetaResponseBashCodeExecutionOutputBlock = z.object({
    file_id: z.string(),
    type: z.literal('bash_code_execution_output').default('bash_code_execution_output')
});

/**
 * ResponseBashCodeExecutionResultBlock
 */
export const zBetaResponseBashCodeExecutionResultBlock = z.object({
    content: z.array(zBetaResponseBashCodeExecutionOutputBlock),
    return_code: z.int(),
    stderr: z.string(),
    stdout: z.string(),
    type: z.literal('bash_code_execution_result').default('bash_code_execution_result')
});

/**
 * ResponseBashCodeExecutionToolResultError
 */
export const zBetaResponseBashCodeExecutionToolResultError = z.object({
    error_code: zBetaBashCodeExecutionToolResultErrorCode,
    type: z.literal('bash_code_execution_tool_result_error').default('bash_code_execution_tool_result_error')
});

/**
 * ResponseBashCodeExecutionToolResultBlock
 */
export const zBetaResponseBashCodeExecutionToolResultBlock = z.object({
    content: z.union([
        zBetaResponseBashCodeExecutionToolResultError,
        zBetaResponseBashCodeExecutionResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('bash_code_execution_tool_result').default('bash_code_execution_tool_result')
});

/**
 * ResponseCharLocationCitation
 */
export const zBetaResponseCharLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string(),
        z.null()
    ]),
    end_char_index: z.int(),
    file_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    start_char_index: z.int().gte(0),
    type: z.literal('char_location').default('char_location')
});

/**
 * ResponseCitationsConfig
 */
export const zBetaResponseCitationsConfig = z.object({
    enabled: z.boolean().default(false)
});

/**
 * ResponseClearThinking20251015Edit
 */
export const zBetaResponseClearThinking20251015Edit = z.object({
    cleared_input_tokens: z.int().gte(0),
    cleared_thinking_turns: z.int().gte(0),
    type: z.literal('clear_thinking_20251015').default('clear_thinking_20251015')
});

/**
 * ResponseClearToolUses20250919Edit
 */
export const zBetaResponseClearToolUses20250919Edit = z.object({
    cleared_input_tokens: z.int().gte(0),
    cleared_tool_uses: z.int().gte(0),
    type: z.literal('clear_tool_uses_20250919').default('clear_tool_uses_20250919')
});

/**
 * ResponseCodeExecutionOutputBlock
 */
export const zBetaResponseCodeExecutionOutputBlock = z.object({
    file_id: z.string(),
    type: z.literal('code_execution_output').default('code_execution_output')
});

/**
 * ResponseCodeExecutionResultBlock
 */
export const zBetaResponseCodeExecutionResultBlock = z.object({
    content: z.array(zBetaResponseCodeExecutionOutputBlock),
    return_code: z.int(),
    stderr: z.string(),
    stdout: z.string(),
    type: z.literal('code_execution_result').default('code_execution_result')
});

/**
 * ResponseCodeExecutionToolResultError
 */
export const zBetaResponseCodeExecutionToolResultError = z.object({
    error_code: zBetaCodeExecutionToolResultErrorCode,
    type: z.literal('code_execution_tool_result_error').default('code_execution_tool_result_error')
});

/**
 * ResponseCodeExecutionToolResultBlock
 */
export const zBetaResponseCodeExecutionToolResultBlock = z.object({
    content: z.union([
        zBetaResponseCodeExecutionToolResultError,
        zBetaResponseCodeExecutionResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('code_execution_tool_result').default('code_execution_tool_result')
});

/**
 * ResponseCompactionBlock
 *
 * A compaction block returned when autocompact is triggered.
 *
 * When content is None, it indicates the compaction failed to produce a valid
 * summary (e.g., malformed output from the model). Clients may round-trip
 * compaction blocks with null content; the server treats them as no-ops.
 */
export const zBetaResponseCompactionBlock = z.object({
    content: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('compaction').default('compaction')
});

/**
 * ResponseContainerUploadBlock
 *
 * Response model for a file uploaded to the container.
 */
export const zBetaResponseContainerUploadBlock = z.object({
    file_id: z.string(),
    type: z.literal('container_upload').default('container_upload')
});

/**
 * ResponseContentBlockLocationCitation
 */
export const zBetaResponseContentBlockLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string(),
        z.null()
    ]),
    end_block_index: z.int(),
    file_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    start_block_index: z.int().gte(0),
    type: z.literal('content_block_location').default('content_block_location')
});

/**
 * ResponseContextManagement
 */
export const zBetaResponseContextManagement = z.object({
    applied_edits: z.array(z.union([z.object({
            type: z.literal('clear_tool_uses_20250919')
        }).and(zBetaResponseClearToolUses20250919Edit), z.object({
            type: z.literal('clear_thinking_20251015')
        }).and(zBetaResponseClearThinking20251015Edit)]))
});

/**
 * ResponseDocumentBlock
 */
export const zBetaResponseDocumentBlock = z.object({
    citations: z.union([
        zBetaResponseCitationsConfig,
        z.null()
    ]).default(null),
    source: z.union([
        z.object({
            type: z.literal('base64')
        }).and(zBetaBase64PdfSource),
        z.object({
            type: z.literal('text')
        }).and(zBetaPlainTextSource)
    ]),
    title: z.union([
        z.string(),
        z.null()
    ]).default(null),
    type: z.literal('document').default('document')
});

/**
 * ResponseMCPToolUseBlock
 */
export const zBetaResponseMcpToolUseBlock = z.object({
    id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.string(),
    server_name: z.string(),
    type: z.literal('mcp_tool_use').default('mcp_tool_use')
});

/**
 * ResponsePageLocationCitation
 */
export const zBetaResponsePageLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string(),
        z.null()
    ]),
    end_page_number: z.int(),
    file_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    start_page_number: z.int().gte(1),
    type: z.literal('page_location').default('page_location')
});

/**
 * ResponseRedactedThinkingBlock
 */
export const zBetaResponseRedactedThinkingBlock = z.object({
    data: z.string(),
    type: z.literal('redacted_thinking').default('redacted_thinking')
});

/**
 * ResponseSearchResultLocationCitation
 */
export const zBetaResponseSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    end_block_index: z.int(),
    search_result_index: z.int().gte(0),
    source: z.string(),
    start_block_index: z.int().gte(0),
    title: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('search_result_location').default('search_result_location')
});

/**
 * ResponseTextEditorCodeExecutionCreateResultBlock
 */
export const zBetaResponseTextEditorCodeExecutionCreateResultBlock = z.object({
    is_file_update: z.boolean(),
    type: z.literal('text_editor_code_execution_create_result').default('text_editor_code_execution_create_result')
});

/**
 * ResponseTextEditorCodeExecutionStrReplaceResultBlock
 */
export const zBetaResponseTextEditorCodeExecutionStrReplaceResultBlock = z.object({
    lines: z.union([
        z.array(z.string()),
        z.null()
    ]).default(null),
    new_lines: z.union([
        z.int(),
        z.null()
    ]).default(null),
    new_start: z.union([
        z.int(),
        z.null()
    ]).default(null),
    old_lines: z.union([
        z.int(),
        z.null()
    ]).default(null),
    old_start: z.union([
        z.int(),
        z.null()
    ]).default(null),
    type: z.literal('text_editor_code_execution_str_replace_result').default('text_editor_code_execution_str_replace_result')
});

/**
 * ResponseTextEditorCodeExecutionViewResultBlock
 */
export const zBetaResponseTextEditorCodeExecutionViewResultBlock = z.object({
    content: z.string(),
    file_type: z.enum([
        'text',
        'image',
        'pdf'
    ]),
    num_lines: z.union([
        z.int(),
        z.null()
    ]).default(null),
    start_line: z.union([
        z.int(),
        z.null()
    ]).default(null),
    total_lines: z.union([
        z.int(),
        z.null()
    ]).default(null),
    type: z.literal('text_editor_code_execution_view_result').default('text_editor_code_execution_view_result')
});

/**
 * ResponseThinkingBlock
 */
export const zBetaResponseThinkingBlock = z.object({
    signature: z.string(),
    thinking: z.string(),
    type: z.literal('thinking').default('thinking')
});

/**
 * ResponseToolReferenceBlock
 */
export const zBetaResponseToolReferenceBlock = z.object({
    tool_name: z.string().min(1).max(256).regex(/^[a-zA-Z0-9_-]{1,256}$/),
    type: z.literal('tool_reference').default('tool_reference')
});

/**
 * ResponseToolSearchToolSearchResultBlock
 */
export const zBetaResponseToolSearchToolSearchResultBlock = z.object({
    tool_references: z.array(zBetaResponseToolReferenceBlock),
    type: z.literal('tool_search_tool_search_result').default('tool_search_tool_search_result')
});

/**
 * ResponseWebFetchResultBlock
 */
export const zBetaResponseWebFetchResultBlock = z.object({
    content: zBetaResponseDocumentBlock,
    retrieved_at: z.union([
        z.string(),
        z.null()
    ]).default(null),
    type: z.literal('web_fetch_result').default('web_fetch_result'),
    url: z.string()
});

/**
 * ResponseWebSearchResultBlock
 */
export const zBetaResponseWebSearchResultBlock = z.object({
    encrypted_content: z.string(),
    page_age: z.union([
        z.string(),
        z.null()
    ]).default(null),
    title: z.string(),
    type: z.literal('web_search_result').default('web_search_result'),
    url: z.string()
});

/**
 * ResponseWebSearchResultLocationCitation
 */
export const zBetaResponseWebSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    encrypted_index: z.string(),
    title: z.union([
        z.string().max(512),
        z.null()
    ]),
    type: z.literal('web_search_result_location').default('web_search_result_location'),
    url: z.string()
});

/**
 * CitationsDelta
 */
export const zBetaCitationsDelta = z.object({
    citation: z.union([
        z.object({
            type: z.literal('char_location')
        }).and(zBetaResponseCharLocationCitation),
        z.object({
            type: z.literal('page_location')
        }).and(zBetaResponsePageLocationCitation),
        z.object({
            type: z.literal('content_block_location')
        }).and(zBetaResponseContentBlockLocationCitation),
        z.object({
            type: z.literal('web_search_result_location')
        }).and(zBetaResponseWebSearchResultLocationCitation),
        z.object({
            type: z.literal('search_result_location')
        }).and(zBetaResponseSearchResultLocationCitation)
    ]),
    type: z.literal('citations_delta').default('citations_delta')
});

/**
 * ResponseTextBlock
 */
export const zBetaResponseTextBlock = z.object({
    citations: z.union([
        z.array(z.union([
            z.object({
                type: z.literal('char_location')
            }).and(zBetaResponseCharLocationCitation),
            z.object({
                type: z.literal('page_location')
            }).and(zBetaResponsePageLocationCitation),
            z.object({
                type: z.literal('content_block_location')
            }).and(zBetaResponseContentBlockLocationCitation),
            z.object({
                type: z.literal('web_search_result_location')
            }).and(zBetaResponseWebSearchResultLocationCitation),
            z.object({
                type: z.literal('search_result_location')
            }).and(zBetaResponseSearchResultLocationCitation)
        ])),
        z.null()
    ]).default(null),
    text: z.string().min(0).max(5000000),
    type: z.literal('text').default('text')
});

/**
 * ResponseMCPToolResultBlock
 */
export const zBetaResponseMcpToolResultBlock = z.object({
    content: z.union([
        z.string(),
        z.array(zBetaResponseTextBlock)
    ]),
    is_error: z.boolean().default(false),
    tool_use_id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    type: z.literal('mcp_tool_result').default('mcp_tool_result')
});

/**
 * ServerToolCaller
 *
 * Tool invocation generated by a server-side tool.
 */
export const zBetaServerToolCaller = z.object({
    tool_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('code_execution_20250825')
});

/**
 * RequestServerToolUseBlock
 */
export const zBetaRequestServerToolUseBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    caller: z.optional(z.union([
        z.object({
            type: z.literal('direct')
        }).and(zBetaDirectCaller),
        z.object({
            type: z.literal('code_execution_20250825')
        }).and(zBetaServerToolCaller)
    ])),
    id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.enum([
        'web_search',
        'web_fetch',
        'code_execution',
        'bash_code_execution',
        'text_editor_code_execution',
        'tool_search_tool_regex',
        'tool_search_tool_bm25'
    ]),
    type: z.literal('server_tool_use')
});

/**
 * RequestToolUseBlock
 */
export const zBetaRequestToolUseBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    caller: z.optional(z.union([
        z.object({
            type: z.literal('direct')
        }).and(zBetaDirectCaller),
        z.object({
            type: z.literal('code_execution_20250825')
        }).and(zBetaServerToolCaller)
    ])),
    id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.string().min(1).max(200),
    type: z.literal('tool_use')
});

/**
 * ResponseServerToolUseBlock
 */
export const zBetaResponseServerToolUseBlock = z.object({
    caller: z.optional(z.union([
        z.object({
            type: z.literal('direct')
        }).and(zBetaDirectCaller),
        z.object({
            type: z.literal('code_execution_20250825')
        }).and(zBetaServerToolCaller)
    ])),
    id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.enum([
        'web_search',
        'web_fetch',
        'code_execution',
        'bash_code_execution',
        'text_editor_code_execution',
        'tool_search_tool_regex',
        'tool_search_tool_bm25'
    ]),
    type: z.literal('server_tool_use').default('server_tool_use')
});

/**
 * ResponseToolUseBlock
 */
export const zBetaResponseToolUseBlock = z.object({
    caller: z.optional(z.union([
        z.object({
            type: z.literal('direct')
        }).and(zBetaDirectCaller),
        z.object({
            type: z.literal('code_execution_20250825')
        }).and(zBetaServerToolCaller)
    ])),
    id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.string().min(1),
    type: z.literal('tool_use').default('tool_use')
});

/**
 * ServerToolUsage
 */
export const zBetaServerToolUsage = z.object({
    web_fetch_requests: z.int().gte(0).default(0),
    web_search_requests: z.int().gte(0).default(0)
});

/**
 * SignatureContentBlockDelta
 */
export const zBetaSignatureContentBlockDelta = z.object({
    signature: z.string(),
    type: z.literal('signature_delta').default('signature_delta')
});

/**
 * Skill
 *
 * A skill that was loaded in a container (response model).
 */
export const zBetaSkill = z.object({
    skill_id: z.string().min(1).max(64),
    type: z.enum(['anthropic', 'custom']),
    version: z.string().min(1).max(64)
});

/**
 * Container
 *
 * Information about the container used in the request (for the code execution tool)
 */
export const zBetaContainer = z.object({
    expires_at: z.iso.datetime(),
    id: z.string(),
    skills: z.union([
        z.array(zBetaSkill),
        z.null()
    ]).default(null)
});

/**
 * SkillParams
 *
 * Specification for a skill to be loaded in a container (request model).
 */
export const zBetaSkillParams = z.object({
    skill_id: z.string().min(1).max(64),
    type: z.enum(['anthropic', 'custom']),
    version: z.optional(z.string().min(1).max(64))
});

/**
 * ContainerParams
 *
 * Container parameters with skills to be loaded.
 */
export const zBetaContainerParams = z.object({
    id: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    skills: z.optional(z.union([
        z.array(zBetaSkillParams).max(8),
        z.null()
    ]))
});

/**
 * SkillVersion
 */
export const zBetaSkillVersion = z.object({
    created_at: z.string(),
    description: z.string(),
    directory: z.string(),
    id: z.string(),
    name: z.string(),
    skill_id: z.string(),
    type: z.string().default('skill_version'),
    version: z.string()
});

/**
 * ListSkillVersionsResponse
 */
export const zBetaListSkillVersionsResponse = z.object({
    data: z.array(zBetaSkillVersion),
    has_more: z.boolean(),
    next_page: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * Speed
 */
export const zBetaSpeed = z.enum(['standard', 'fast']);

/**
 * TextContentBlockDelta
 */
export const zBetaTextContentBlockDelta = z.object({
    text: z.string(),
    type: z.literal('text_delta').default('text_delta')
});

/**
 * TextEditorCodeExecutionToolResultErrorCode
 */
export const zBetaTextEditorCodeExecutionToolResultErrorCode = z.enum([
    'invalid_tool_input',
    'unavailable',
    'too_many_requests',
    'execution_time_exceeded',
    'file_not_found'
]);

/**
 * RequestTextEditorCodeExecutionToolResultError
 */
export const zBetaRequestTextEditorCodeExecutionToolResultError = z.object({
    error_code: zBetaTextEditorCodeExecutionToolResultErrorCode,
    error_message: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    type: z.literal('text_editor_code_execution_tool_result_error')
});

/**
 * RequestTextEditorCodeExecutionToolResultBlock
 */
export const zBetaRequestTextEditorCodeExecutionToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        zBetaRequestTextEditorCodeExecutionToolResultError,
        zBetaRequestTextEditorCodeExecutionViewResultBlock,
        zBetaRequestTextEditorCodeExecutionCreateResultBlock,
        zBetaRequestTextEditorCodeExecutionStrReplaceResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('text_editor_code_execution_tool_result')
});

/**
 * ResponseTextEditorCodeExecutionToolResultError
 */
export const zBetaResponseTextEditorCodeExecutionToolResultError = z.object({
    error_code: zBetaTextEditorCodeExecutionToolResultErrorCode,
    error_message: z.union([
        z.string(),
        z.null()
    ]).default(null),
    type: z.literal('text_editor_code_execution_tool_result_error').default('text_editor_code_execution_tool_result_error')
});

/**
 * ResponseTextEditorCodeExecutionToolResultBlock
 */
export const zBetaResponseTextEditorCodeExecutionToolResultBlock = z.object({
    content: z.union([
        zBetaResponseTextEditorCodeExecutionToolResultError,
        zBetaResponseTextEditorCodeExecutionViewResultBlock,
        zBetaResponseTextEditorCodeExecutionCreateResultBlock,
        zBetaResponseTextEditorCodeExecutionStrReplaceResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('text_editor_code_execution_tool_result').default('text_editor_code_execution_tool_result')
});

/**
 * TextEditor_20241022
 */
export const zBetaTextEditor20241022 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('str_replace_editor'),
    strict: z.optional(z.boolean()),
    type: z.literal('text_editor_20241022')
});

/**
 * TextEditor_20250124
 */
export const zBetaTextEditor20250124 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('str_replace_editor'),
    strict: z.optional(z.boolean()),
    type: z.literal('text_editor_20250124')
});

/**
 * TextEditor_20250429
 */
export const zBetaTextEditor20250429 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    name: z.literal('str_replace_based_edit_tool'),
    strict: z.optional(z.boolean()),
    type: z.literal('text_editor_20250429')
});

/**
 * TextEditor_20250728
 */
export const zBetaTextEditor20250728 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue))),
    max_characters: z.optional(z.union([
        z.int().gte(1),
        z.null()
    ])),
    name: z.literal('str_replace_based_edit_tool'),
    strict: z.optional(z.boolean()),
    type: z.literal('text_editor_20250728')
});

/**
 * ThinkingConfigAdaptive
 */
export const zBetaThinkingConfigAdaptive = z.object({
    type: z.literal('adaptive')
});

/**
 * ThinkingConfigDisabled
 */
export const zBetaThinkingConfigDisabled = z.object({
    type: z.literal('disabled')
});

/**
 * ThinkingConfigEnabled
 */
export const zBetaThinkingConfigEnabled = z.object({
    budget_tokens: z.int().gte(1024),
    type: z.literal('enabled')
});

/**
 * ThinkingContentBlockDelta
 */
export const zBetaThinkingContentBlockDelta = z.object({
    thinking: z.string(),
    type: z.literal('thinking_delta').default('thinking_delta')
});

/**
 * ContentBlockDeltaEvent
 */
export const zBetaContentBlockDeltaEvent = z.object({
    delta: z.union([
        z.object({
            type: z.literal('text_delta')
        }).and(zBetaTextContentBlockDelta),
        z.object({
            type: z.literal('input_json_delta')
        }).and(zBetaInputJsonContentBlockDelta),
        z.object({
            type: z.literal('citations_delta')
        }).and(zBetaCitationsDelta),
        z.object({
            type: z.literal('thinking_delta')
        }).and(zBetaThinkingContentBlockDelta),
        z.object({
            type: z.literal('signature_delta')
        }).and(zBetaSignatureContentBlockDelta),
        z.object({
            type: z.literal('compaction_delta')
        }).and(zBetaCompactionContentBlockDelta)
    ]),
    index: z.int(),
    type: z.literal('content_block_delta').default('content_block_delta')
});

/**
 * ThinkingTurns
 */
export const zBetaThinkingTurns = z.object({
    type: z.literal('thinking_turns'),
    value: z.int().gte(1)
});

/**
 * ClearThinking20251015
 */
export const zBetaClearThinking20251015 = z.object({
    keep: z.optional(z.union([
        z.union([
            z.object({
                type: z.literal('thinking_turns')
            }).and(zBetaThinkingTurns),
            z.object({
                type: z.literal('all')
            }).and(zBetaAllThinkingTurns)
        ]),
        z.literal('all')
    ])),
    type: z.literal('clear_thinking_20251015')
});

/**
 * Tool
 */
export const zBetaTool = z.object({
    type: z.optional(z.union([
        z.null(),
        z.literal('custom')
    ])),
    description: z.optional(z.string()),
    name: z.string().min(1).max(128).regex(/^[a-zA-Z0-9_-]{1,128}$/),
    input_schema: zBetaInputSchema,
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    strict: z.optional(z.boolean()),
    eager_input_streaming: z.optional(z.union([
        z.boolean(),
        z.null()
    ])),
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    defer_loading: z.optional(z.boolean()),
    input_examples: z.optional(z.array(z.record(z.string(), zBetaJsonValue)))
});

/**
 * ToolChoiceAny
 *
 * The model will use any available tools.
 */
export const zBetaToolChoiceAny = z.object({
    disable_parallel_tool_use: z.optional(z.boolean()),
    type: z.literal('any')
});

/**
 * ToolChoiceAuto
 *
 * The model will automatically decide whether to use tools.
 */
export const zBetaToolChoiceAuto = z.object({
    disable_parallel_tool_use: z.optional(z.boolean()),
    type: z.literal('auto')
});

/**
 * ToolChoiceNone
 *
 * The model will not be allowed to use tools.
 */
export const zBetaToolChoiceNone = z.object({
    type: z.literal('none')
});

/**
 * ToolChoiceTool
 *
 * The model will use the specified tool with `tool_choice.name`.
 */
export const zBetaToolChoiceTool = z.object({
    disable_parallel_tool_use: z.optional(z.boolean()),
    name: z.string(),
    type: z.literal('tool')
});

/**
 * ToolSearchToolBM25_20251119
 */
export const zBetaToolSearchToolBm2520251119 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    name: z.literal('tool_search_tool_bm25'),
    strict: z.optional(z.boolean()),
    type: z.enum(['tool_search_tool_bm25_20251119', 'tool_search_tool_bm25'])
});

/**
 * ToolSearchToolRegex_20251119
 */
export const zBetaToolSearchToolRegex20251119 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    name: z.literal('tool_search_tool_regex'),
    strict: z.optional(z.boolean()),
    type: z.enum(['tool_search_tool_regex_20251119', 'tool_search_tool_regex'])
});

/**
 * ToolSearchToolResultErrorCode
 */
export const zBetaToolSearchToolResultErrorCode = z.enum([
    'invalid_tool_input',
    'unavailable',
    'too_many_requests',
    'execution_time_exceeded'
]);

/**
 * RequestToolSearchToolResultError
 */
export const zBetaRequestToolSearchToolResultError = z.object({
    error_code: zBetaToolSearchToolResultErrorCode,
    type: z.literal('tool_search_tool_result_error')
});

/**
 * RequestToolSearchToolResultBlock
 */
export const zBetaRequestToolSearchToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        zBetaRequestToolSearchToolResultError,
        zBetaRequestToolSearchToolSearchResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('tool_search_tool_result')
});

/**
 * ResponseToolSearchToolResultError
 */
export const zBetaResponseToolSearchToolResultError = z.object({
    error_code: zBetaToolSearchToolResultErrorCode,
    error_message: z.union([
        z.string(),
        z.null()
    ]).default(null),
    type: z.literal('tool_search_tool_result_error').default('tool_search_tool_result_error')
});

/**
 * ResponseToolSearchToolResultBlock
 */
export const zBetaResponseToolSearchToolResultBlock = z.object({
    content: z.union([
        zBetaResponseToolSearchToolResultError,
        zBetaResponseToolSearchToolSearchResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('tool_search_tool_result').default('tool_search_tool_result')
});

/**
 * ToolUsesKeep
 */
export const zBetaToolUsesKeep = z.object({
    type: z.literal('tool_uses'),
    value: z.int().gte(0)
});

/**
 * ToolUsesTrigger
 */
export const zBetaToolUsesTrigger = z.object({
    type: z.literal('tool_uses'),
    value: z.int().gte(1)
});

/**
 * ClearToolUses20250919
 */
export const zBetaClearToolUses20250919 = z.object({
    clear_at_least: z.optional(z.union([
        zBetaInputTokensClearAtLeast,
        z.null()
    ])),
    clear_tool_inputs: z.optional(z.union([
        z.boolean(),
        z.array(z.string()),
        z.null()
    ])),
    exclude_tools: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    keep: z.optional(z.object({
        type: z.literal('tool_uses')
    }).and(zBetaToolUsesKeep)),
    trigger: z.optional(z.union([
        z.object({
            type: z.literal('input_tokens')
        }).and(zBetaInputTokensTrigger),
        z.object({
            type: z.literal('tool_uses')
        }).and(zBetaToolUsesTrigger)
    ])),
    type: z.literal('clear_tool_uses_20250919')
});

/**
 * ContextManagementConfig
 */
export const zBetaContextManagementConfig = z.object({
    edits: z.optional(z.array(z.union([
        z.object({
            type: z.literal('clear_tool_uses_20250919')
        }).and(zBetaClearToolUses20250919),
        z.object({
            type: z.literal('clear_thinking_20251015')
        }).and(zBetaClearThinking20251015),
        z.object({
            type: z.literal('compact_20260112')
        }).and(zBetaCompact20260112)
    ])).min(0))
});

/**
 * URLImageSource
 */
export const zBetaUrlImageSource = z.object({
    type: z.literal('url'),
    url: z.string()
});

/**
 * RequestImageBlock
 */
export const zBetaRequestImageBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    source: z.union([
        z.object({
            type: z.literal('base64')
        }).and(zBetaBase64ImageSource),
        z.object({
            type: z.literal('url')
        }).and(zBetaUrlImageSource),
        z.object({
            type: z.literal('file')
        }).and(zBetaFileImageSource)
    ]),
    type: z.literal('image')
});

/**
 * ContentBlockSource
 */
export const zBetaContentBlockSource = z.object({
    content: z.union([
        z.string(),
        z.array(z.union([z.object({
                type: z.literal('text')
            }).and(zBetaRequestTextBlock), z.object({
                type: z.literal('image')
            }).and(zBetaRequestImageBlock)]))
    ]),
    type: z.literal('content')
});

/**
 * URLPDFSource
 */
export const zBetaUrlpdfSource = z.object({
    type: z.literal('url'),
    url: z.string()
});

/**
 * RequestDocumentBlock
 */
export const zBetaRequestDocumentBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    citations: z.optional(z.union([
        zBetaRequestCitationsConfig,
        z.null()
    ])),
    context: z.optional(z.union([
        z.string().min(1),
        z.null()
    ])),
    source: z.union([
        z.object({
            type: z.literal('base64')
        }).and(zBetaBase64PdfSource),
        z.object({
            type: z.literal('text')
        }).and(zBetaPlainTextSource),
        z.object({
            type: z.literal('content')
        }).and(zBetaContentBlockSource),
        z.object({
            type: z.literal('url')
        }).and(zBetaUrlpdfSource),
        z.object({
            type: z.literal('file')
        }).and(zBetaFileDocumentSource)
    ]),
    title: z.optional(z.union([
        z.string().min(1).max(500),
        z.null()
    ])),
    type: z.literal('document')
});

/**
 * RequestToolResultBlock
 */
export const zBetaRequestToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.optional(z.union([
        z.string(),
        z.array(z.union([
            z.object({
                type: z.literal('text')
            }).and(zBetaRequestTextBlock),
            z.object({
                type: z.literal('image')
            }).and(zBetaRequestImageBlock),
            z.object({
                type: z.literal('search_result')
            }).and(zBetaRequestSearchResultBlock),
            z.object({
                type: z.literal('document')
            }).and(zBetaRequestDocumentBlock),
            z.object({
                type: z.literal('tool_reference')
            }).and(zBetaRequestToolReferenceBlock)
        ]))
    ])),
    is_error: z.optional(z.boolean()),
    tool_use_id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    type: z.literal('tool_result')
});

/**
 * RequestWebFetchResultBlock
 */
export const zBetaRequestWebFetchResultBlock = z.object({
    content: zBetaRequestDocumentBlock,
    retrieved_at: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    type: z.literal('web_fetch_result'),
    url: z.string()
});

/**
 * UserLocation
 */
export const zBetaUserLocation = z.object({
    city: z.optional(z.union([
        z.string().min(1).max(255),
        z.null()
    ])),
    country: z.optional(z.union([
        z.string().length(2),
        z.null()
    ])),
    region: z.optional(z.union([
        z.string().min(1).max(255),
        z.null()
    ])),
    timezone: z.optional(z.union([
        z.string().min(1).max(255),
        z.null()
    ])),
    type: z.literal('approximate')
});

/**
 * WebFetchToolResultErrorCode
 */
export const zBetaWebFetchToolResultErrorCode = z.enum([
    'invalid_tool_input',
    'url_too_long',
    'url_not_allowed',
    'url_not_accessible',
    'unsupported_content_type',
    'too_many_requests',
    'max_uses_exceeded',
    'unavailable'
]);

/**
 * RequestWebFetchToolResultError
 */
export const zBetaRequestWebFetchToolResultError = z.object({
    error_code: zBetaWebFetchToolResultErrorCode,
    type: z.literal('web_fetch_tool_result_error')
});

/**
 * RequestWebFetchToolResultBlock
 */
export const zBetaRequestWebFetchToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        zBetaRequestWebFetchToolResultError,
        zBetaRequestWebFetchResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('web_fetch_tool_result')
});

/**
 * ResponseWebFetchToolResultError
 */
export const zBetaResponseWebFetchToolResultError = z.object({
    error_code: zBetaWebFetchToolResultErrorCode,
    type: z.literal('web_fetch_tool_result_error').default('web_fetch_tool_result_error')
});

/**
 * ResponseWebFetchToolResultBlock
 */
export const zBetaResponseWebFetchToolResultBlock = z.object({
    content: z.union([
        zBetaResponseWebFetchToolResultError,
        zBetaResponseWebFetchResultBlock
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('web_fetch_tool_result').default('web_fetch_tool_result')
});

/**
 * WebFetchTool_20250910
 */
export const zBetaWebFetchTool20250910 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    allowed_domains: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    blocked_domains: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    citations: z.optional(z.union([
        zBetaRequestCitationsConfig,
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    max_content_tokens: z.optional(z.union([
        z.int().gt(0),
        z.null()
    ])),
    max_uses: z.optional(z.union([
        z.int().gt(0),
        z.null()
    ])),
    name: z.literal('web_fetch'),
    strict: z.optional(z.boolean()),
    type: z.literal('web_fetch_20250910')
});

/**
 * WebSearchToolResultErrorCode
 */
export const zBetaWebSearchToolResultErrorCode = z.enum([
    'invalid_tool_input',
    'unavailable',
    'max_uses_exceeded',
    'too_many_requests',
    'query_too_long',
    'request_too_large'
]);

/**
 * Error
 */
export const zBetaRequestWebSearchToolResultError = z.object({
    error_code: zBetaWebSearchToolResultErrorCode,
    type: z.literal('web_search_tool_result_error')
});

/**
 * RequestWebSearchToolResultBlock
 */
export const zBetaRequestWebSearchToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        z.array(zBetaRequestWebSearchResultBlock),
        zBetaRequestWebSearchToolResultError
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('web_search_tool_result')
});

/**
 * ResponseWebSearchToolResultError
 */
export const zBetaResponseWebSearchToolResultError = z.object({
    error_code: zBetaWebSearchToolResultErrorCode,
    type: z.literal('web_search_tool_result_error').default('web_search_tool_result_error')
});

/**
 * ResponseWebSearchToolResultBlock
 */
export const zBetaResponseWebSearchToolResultBlock = z.object({
    content: z.union([
        zBetaResponseWebSearchToolResultError,
        z.array(zBetaResponseWebSearchResultBlock)
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('web_search_tool_result').default('web_search_tool_result')
});

/**
 * ContentBlockStartEvent
 */
export const zBetaContentBlockStartEvent = z.object({
    content_block: z.union([
        z.object({
            type: z.literal('text')
        }).and(zBetaResponseTextBlock),
        z.object({
            type: z.literal('thinking')
        }).and(zBetaResponseThinkingBlock),
        z.object({
            type: z.literal('redacted_thinking')
        }).and(zBetaResponseRedactedThinkingBlock),
        z.object({
            type: z.literal('tool_use')
        }).and(zBetaResponseToolUseBlock),
        z.object({
            type: z.literal('server_tool_use')
        }).and(zBetaResponseServerToolUseBlock),
        z.object({
            type: z.literal('web_search_tool_result')
        }).and(zBetaResponseWebSearchToolResultBlock),
        z.object({
            type: z.literal('web_fetch_tool_result')
        }).and(zBetaResponseWebFetchToolResultBlock),
        z.object({
            type: z.literal('code_execution_tool_result')
        }).and(zBetaResponseCodeExecutionToolResultBlock),
        z.object({
            type: z.literal('bash_code_execution_tool_result')
        }).and(zBetaResponseBashCodeExecutionToolResultBlock),
        z.object({
            type: z.literal('text_editor_code_execution_tool_result')
        }).and(zBetaResponseTextEditorCodeExecutionToolResultBlock),
        z.object({
            type: z.literal('tool_search_tool_result')
        }).and(zBetaResponseToolSearchToolResultBlock),
        z.object({
            type: z.literal('mcp_tool_use')
        }).and(zBetaResponseMcpToolUseBlock),
        z.object({
            type: z.literal('mcp_tool_result')
        }).and(zBetaResponseMcpToolResultBlock),
        z.object({
            type: z.literal('container_upload')
        }).and(zBetaResponseContainerUploadBlock),
        z.object({
            type: z.literal('compaction')
        }).and(zBetaResponseCompactionBlock)
    ]),
    index: z.int(),
    type: z.literal('content_block_start').default('content_block_start')
});

/**
 * WebSearchTool_20250305
 */
export const zBetaWebSearchTool20250305 = z.object({
    allowed_callers: z.optional(z.array(z.enum(['direct', 'code_execution_20250825']))),
    allowed_domains: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    blocked_domains: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zBetaCacheControlEphemeral),
        z.null()
    ])),
    defer_loading: z.optional(z.boolean()),
    max_uses: z.optional(z.union([
        z.int().gt(0),
        z.null()
    ])),
    name: z.literal('web_search'),
    strict: z.optional(z.boolean()),
    type: z.literal('web_search_20250305'),
    user_location: z.optional(z.union([
        zBetaUserLocation,
        z.null()
    ]))
});

/**
 * Skill
 */
export const zBetaapiSchemasSkillsSkill = z.object({
    created_at: z.string(),
    display_title: z.union([
        z.string(),
        z.null()
    ]),
    id: z.string(),
    latest_version: z.union([
        z.string(),
        z.null()
    ]),
    source: z.string(),
    type: z.string().default('skill'),
    updated_at: z.string()
});

/**
 * ListSkillsResponse
 */
export const zBetaListSkillsResponse = z.object({
    data: z.array(zBetaapiSchemasSkillsSkill),
    has_more: z.boolean(),
    next_page: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * BillingError
 */
export const zBillingError = z.object({
    message: z.string().default('Billing error'),
    type: z.literal('billing_error').default('billing_error')
});

/**
 * Body_create_skill_v1_skills_post
 */
export const zBodyCreateSkillV1SkillsPost = z.object({
    display_title: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    files: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ]))
});

/**
 * Body_create_skill_version_v1_skills__skill_id__versions_post
 */
export const zBodyCreateSkillVersionV1SkillsSkillIdVersionsPost = z.object({
    files: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ]))
});

/**
 * CacheControlEphemeral
 */
export const zCacheControlEphemeral = z.object({
    ttl: z.optional(z.enum(['5m', '1h'])),
    type: z.literal('ephemeral')
});

/**
 * BashTool_20250124
 */
export const zBashTool20250124 = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    name: z.literal('bash'),
    strict: z.optional(z.boolean()),
    type: z.literal('bash_20250124')
});

/**
 * CacheCreation
 */
export const zCacheCreation = z.object({
    ephemeral_1h_input_tokens: z.int().gte(0).default(0),
    ephemeral_5m_input_tokens: z.int().gte(0).default(0)
});

/**
 * CanceledResult
 */
export const zCanceledResult = z.object({
    type: z.literal('canceled').default('canceled')
});

/**
 * ContentBlockStopEvent
 */
export const zContentBlockStopEvent = z.object({
    index: z.int(),
    type: z.literal('content_block_stop').default('content_block_stop')
});

/**
 * CountMessageTokensResponse
 */
export const zCountMessageTokensResponse = z.object({
    input_tokens: z.int()
});

/**
 * CreateSkillResponse
 */
export const zCreateSkillResponse = z.object({
    created_at: z.string(),
    display_title: z.union([
        z.string(),
        z.null()
    ]),
    id: z.string(),
    latest_version: z.union([
        z.string(),
        z.null()
    ]),
    source: z.string(),
    type: z.string().default('skill'),
    updated_at: z.string()
});

/**
 * CreateSkillVersionResponse
 */
export const zCreateSkillVersionResponse = z.object({
    created_at: z.string(),
    description: z.string(),
    directory: z.string(),
    id: z.string(),
    name: z.string(),
    skill_id: z.string(),
    type: z.string().default('skill_version'),
    version: z.string()
});

/**
 * DeleteMessageBatchResponse
 */
export const zDeleteMessageBatchResponse = z.object({
    id: z.string(),
    type: z.literal('message_batch_deleted').default('message_batch_deleted')
});

/**
 * DeleteSkillResponse
 */
export const zDeleteSkillResponse = z.object({
    id: z.string(),
    type: z.string().default('skill_deleted')
});

/**
 * DeleteSkillVersionResponse
 */
export const zDeleteSkillVersionResponse = z.object({
    id: z.string(),
    type: z.string().default('skill_version_deleted')
});

/**
 * EffortLevel
 *
 * All possible effort levels.
 */
export const zEffortLevel = z.enum([
    'low',
    'medium',
    'high',
    'max'
]);

/**
 * ErrorType
 */
export const zErrorType = z.enum([
    'invalid_request_error',
    'authentication_error',
    'permission_error',
    'not_found_error',
    'rate_limit_error',
    'timeout_error',
    'overloaded_error',
    'api_error',
    'billing_error'
]);

/**
 * ExpiredResult
 */
export const zExpiredResult = z.object({
    type: z.literal('expired').default('expired')
});

/**
 * FileDeleteResponse
 */
export const zFileDeleteResponse = z.object({
    id: z.string(),
    type: z.optional(z.literal('file_deleted')).default('file_deleted')
});

/**
 * FileMetadataSchema
 */
export const zFileMetadataSchema = z.object({
    created_at: z.iso.datetime(),
    downloadable: z.optional(z.boolean()).default(false),
    filename: z.string().min(1).max(500),
    id: z.string(),
    mime_type: z.string().min(1).max(255),
    size_bytes: z.int().gte(0),
    type: z.literal('file')
});

/**
 * FileListResponse
 */
export const zFileListResponse = z.object({
    data: z.array(zFileMetadataSchema),
    first_id: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    has_more: z.optional(z.boolean()).default(false),
    last_id: z.optional(z.union([
        z.string(),
        z.null()
    ]))
});

/**
 * GatewayTimeoutError
 */
export const zGatewayTimeoutError = z.object({
    message: z.string().default('Request timeout'),
    type: z.literal('timeout_error').default('timeout_error')
});

/**
 * GetSkillResponse
 */
export const zGetSkillResponse = z.object({
    created_at: z.string(),
    display_title: z.union([
        z.string(),
        z.null()
    ]),
    id: z.string(),
    latest_version: z.union([
        z.string(),
        z.null()
    ]),
    source: z.string(),
    type: z.string().default('skill'),
    updated_at: z.string()
});

/**
 * GetSkillVersionResponse
 */
export const zGetSkillVersionResponse = z.object({
    created_at: z.string(),
    description: z.string(),
    directory: z.string(),
    id: z.string(),
    name: z.string(),
    skill_id: z.string(),
    type: z.string().default('skill_version'),
    version: z.string()
});

/**
 * InputJsonContentBlockDelta
 */
export const zInputJsonContentBlockDelta = z.object({
    partial_json: z.string(),
    type: z.literal('input_json_delta').default('input_json_delta')
});

/**
 * InputSchema
 */
export const zInputSchema = z.object({
    properties: z.optional(z.union([
        z.record(z.string(), z.unknown()),
        z.null()
    ])),
    required: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    type: z.literal('object')
});

/**
 * InvalidRequestError
 */
export const zInvalidRequestError = z.object({
    message: z.string().default('Invalid request'),
    type: z.literal('invalid_request_error').default('invalid_request_error')
});

/**
 * JsonOutputFormat
 */
export const zJsonOutputFormat = z.object({
    schema: z.record(z.string(), z.unknown()),
    type: z.literal('json_schema')
});

/**
 * MessageStopEvent
 */
export const zMessageStopEvent = z.object({
    type: z.literal('message_stop').default('message_stop')
});

/**
 * Metadata
 */
export const zMetadata = z.object({
    user_id: z.optional(z.union([
        z.string().max(256),
        z.null()
    ]))
});

/**
 * ModelInfo
 */
export const zModelInfo = z.object({
    created_at: z.iso.datetime(),
    display_name: z.string(),
    id: z.string(),
    type: z.literal('model').default('model')
});

/**
 * ListResponse[ModelInfo]
 */
export const zListResponseModelInfo = z.object({
    data: z.array(zModelInfo),
    first_id: z.union([
        z.string(),
        z.null()
    ]),
    has_more: z.boolean(),
    last_id: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * NotFoundError
 */
export const zNotFoundError = z.object({
    message: z.string().default('Not found'),
    type: z.literal('not_found_error').default('not_found_error')
});

/**
 * OutputConfig
 */
export const zOutputConfig = z.object({
    effort: z.optional(z.union([
        zEffortLevel,
        z.null()
    ])),
    format: z.optional(z.union([
        zJsonOutputFormat,
        z.null()
    ]))
});

/**
 * OverloadedError
 */
export const zOverloadedError = z.object({
    message: z.string().default('Overloaded'),
    type: z.literal('overloaded_error').default('overloaded_error')
});

/**
 * PermissionError
 */
export const zPermissionError = z.object({
    message: z.string().default('Permission denied'),
    type: z.literal('permission_error').default('permission_error')
});

/**
 * PlainTextSource
 */
export const zPlainTextSource = z.object({
    data: z.string(),
    media_type: z.literal('text/plain'),
    type: z.literal('text')
});

/**
 * RateLimitError
 */
export const zRateLimitError = z.object({
    message: z.string().default('Rate limited'),
    type: z.literal('rate_limit_error').default('rate_limit_error')
});

/**
 * ErrorResponse
 */
export const zErrorResponse = z.object({
    error: z.union([
        z.object({
            type: z.literal('invalid_request_error')
        }).and(zInvalidRequestError),
        z.object({
            type: z.literal('authentication_error')
        }).and(zAuthenticationError),
        z.object({
            type: z.literal('billing_error')
        }).and(zBillingError),
        z.object({
            type: z.literal('permission_error')
        }).and(zPermissionError),
        z.object({
            type: z.literal('not_found_error')
        }).and(zNotFoundError),
        z.object({
            type: z.literal('rate_limit_error')
        }).and(zRateLimitError),
        z.object({
            type: z.literal('timeout_error')
        }).and(zGatewayTimeoutError),
        z.object({
            type: z.literal('api_error')
        }).and(zApiError),
        z.object({
            type: z.literal('overloaded_error')
        }).and(zOverloadedError)
    ]),
    request_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    type: z.literal('error').default('error')
});

/**
 * ErroredResult
 */
export const zErroredResult = z.object({
    error: zErrorResponse,
    type: z.literal('errored').default('errored')
});

/**
 * RequestCharLocationCitation
 */
export const zRequestCharLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string().min(1).max(255),
        z.null()
    ]),
    end_char_index: z.int(),
    start_char_index: z.int().gte(0),
    type: z.literal('char_location')
});

/**
 * RequestCitationsConfig
 */
export const zRequestCitationsConfig = z.object({
    enabled: z.optional(z.boolean())
});

/**
 * RequestContentBlockLocationCitation
 */
export const zRequestContentBlockLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string().min(1).max(255),
        z.null()
    ]),
    end_block_index: z.int(),
    start_block_index: z.int().gte(0),
    type: z.literal('content_block_location')
});

/**
 * RequestCounts
 */
export const zRequestCounts = z.object({
    canceled: z.int().default(0),
    errored: z.int().default(0),
    expired: z.int().default(0),
    processing: z.int().default(0),
    succeeded: z.int().default(0)
});

/**
 * MessageBatch
 */
export const zMessageBatch = z.object({
    archived_at: z.union([
        z.iso.datetime(),
        z.null()
    ]),
    cancel_initiated_at: z.union([
        z.iso.datetime(),
        z.null()
    ]),
    created_at: z.iso.datetime(),
    ended_at: z.union([
        z.iso.datetime(),
        z.null()
    ]),
    expires_at: z.iso.datetime(),
    id: z.string(),
    processing_status: z.enum([
        'in_progress',
        'canceling',
        'ended'
    ]),
    request_counts: zRequestCounts,
    results_url: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('message_batch').default('message_batch')
});

/**
 * ListResponse[MessageBatch]
 */
export const zListResponseMessageBatch = z.object({
    data: z.array(zMessageBatch),
    first_id: z.union([
        z.string(),
        z.null()
    ]),
    has_more: z.boolean(),
    last_id: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * RequestPageLocationCitation
 */
export const zRequestPageLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string().min(1).max(255),
        z.null()
    ]),
    end_page_number: z.int(),
    start_page_number: z.int().gte(1),
    type: z.literal('page_location')
});

/**
 * RequestRedactedThinkingBlock
 */
export const zRequestRedactedThinkingBlock = z.object({
    data: z.string(),
    type: z.literal('redacted_thinking')
});

/**
 * RequestSearchResultLocationCitation
 */
export const zRequestSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    end_block_index: z.int(),
    search_result_index: z.int().gte(0),
    source: z.string(),
    start_block_index: z.int().gte(0),
    title: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('search_result_location')
});

/**
 * RequestServerToolUseBlock
 */
export const zRequestServerToolUseBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.literal('web_search'),
    type: z.literal('server_tool_use')
});

/**
 * RequestThinkingBlock
 */
export const zRequestThinkingBlock = z.object({
    signature: z.string(),
    thinking: z.string(),
    type: z.literal('thinking')
});

/**
 * RequestToolUseBlock
 */
export const zRequestToolUseBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.string().min(1).max(200),
    type: z.literal('tool_use')
});

/**
 * RequestWebSearchResultBlock
 */
export const zRequestWebSearchResultBlock = z.object({
    encrypted_content: z.string(),
    page_age: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    title: z.string(),
    type: z.literal('web_search_result'),
    url: z.string()
});

/**
 * RequestWebSearchResultLocationCitation
 */
export const zRequestWebSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    encrypted_index: z.string(),
    title: z.union([
        z.string().min(1).max(512),
        z.null()
    ]),
    type: z.literal('web_search_result_location'),
    url: z.string().min(1).max(2048)
});

/**
 * RequestTextBlock
 */
export const zRequestTextBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    citations: z.optional(z.union([
        z.array(z.union([
            z.object({
                type: z.literal('char_location')
            }).and(zRequestCharLocationCitation),
            z.object({
                type: z.literal('page_location')
            }).and(zRequestPageLocationCitation),
            z.object({
                type: z.literal('content_block_location')
            }).and(zRequestContentBlockLocationCitation),
            z.object({
                type: z.literal('web_search_result_location')
            }).and(zRequestWebSearchResultLocationCitation),
            z.object({
                type: z.literal('search_result_location')
            }).and(zRequestSearchResultLocationCitation)
        ])),
        z.null()
    ])),
    text: z.string().min(1),
    type: z.literal('text')
});

/**
 * RequestSearchResultBlock
 */
export const zRequestSearchResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    citations: z.optional(zRequestCitationsConfig),
    content: z.array(zRequestTextBlock),
    source: z.string(),
    title: z.string(),
    type: z.literal('search_result')
});

/**
 * ResponseCharLocationCitation
 */
export const zResponseCharLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string(),
        z.null()
    ]),
    end_char_index: z.int(),
    file_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    start_char_index: z.int().gte(0),
    type: z.literal('char_location').default('char_location')
});

/**
 * ResponseContentBlockLocationCitation
 */
export const zResponseContentBlockLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string(),
        z.null()
    ]),
    end_block_index: z.int(),
    file_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    start_block_index: z.int().gte(0),
    type: z.literal('content_block_location').default('content_block_location')
});

/**
 * ResponsePageLocationCitation
 */
export const zResponsePageLocationCitation = z.object({
    cited_text: z.string(),
    document_index: z.int().gte(0),
    document_title: z.union([
        z.string(),
        z.null()
    ]),
    end_page_number: z.int(),
    file_id: z.union([
        z.string(),
        z.null()
    ]).default(null),
    start_page_number: z.int().gte(1),
    type: z.literal('page_location').default('page_location')
});

/**
 * ResponseRedactedThinkingBlock
 */
export const zResponseRedactedThinkingBlock = z.object({
    data: z.string(),
    type: z.literal('redacted_thinking').default('redacted_thinking')
});

/**
 * ResponseSearchResultLocationCitation
 */
export const zResponseSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    end_block_index: z.int(),
    search_result_index: z.int().gte(0),
    source: z.string(),
    start_block_index: z.int().gte(0),
    title: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('search_result_location').default('search_result_location')
});

/**
 * ResponseServerToolUseBlock
 */
export const zResponseServerToolUseBlock = z.object({
    id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.literal('web_search'),
    type: z.literal('server_tool_use').default('server_tool_use')
});

/**
 * ResponseThinkingBlock
 */
export const zResponseThinkingBlock = z.object({
    signature: z.string(),
    thinking: z.string(),
    type: z.literal('thinking').default('thinking')
});

/**
 * ResponseToolUseBlock
 */
export const zResponseToolUseBlock = z.object({
    id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    input: z.record(z.string(), z.unknown()),
    name: z.string().min(1),
    type: z.literal('tool_use').default('tool_use')
});

/**
 * ResponseWebSearchResultBlock
 */
export const zResponseWebSearchResultBlock = z.object({
    encrypted_content: z.string(),
    page_age: z.union([
        z.string(),
        z.null()
    ]).default(null),
    title: z.string(),
    type: z.literal('web_search_result').default('web_search_result'),
    url: z.string()
});

/**
 * ResponseWebSearchResultLocationCitation
 */
export const zResponseWebSearchResultLocationCitation = z.object({
    cited_text: z.string(),
    encrypted_index: z.string(),
    title: z.union([
        z.string().max(512),
        z.null()
    ]),
    type: z.literal('web_search_result_location').default('web_search_result_location'),
    url: z.string()
});

/**
 * CitationsDelta
 */
export const zCitationsDelta = z.object({
    citation: z.union([
        z.object({
            type: z.literal('char_location')
        }).and(zResponseCharLocationCitation),
        z.object({
            type: z.literal('page_location')
        }).and(zResponsePageLocationCitation),
        z.object({
            type: z.literal('content_block_location')
        }).and(zResponseContentBlockLocationCitation),
        z.object({
            type: z.literal('web_search_result_location')
        }).and(zResponseWebSearchResultLocationCitation),
        z.object({
            type: z.literal('search_result_location')
        }).and(zResponseSearchResultLocationCitation)
    ]),
    type: z.literal('citations_delta').default('citations_delta')
});

/**
 * ResponseTextBlock
 */
export const zResponseTextBlock = z.object({
    citations: z.union([
        z.array(z.union([
            z.object({
                type: z.literal('char_location')
            }).and(zResponseCharLocationCitation),
            z.object({
                type: z.literal('page_location')
            }).and(zResponsePageLocationCitation),
            z.object({
                type: z.literal('content_block_location')
            }).and(zResponseContentBlockLocationCitation),
            z.object({
                type: z.literal('web_search_result_location')
            }).and(zResponseWebSearchResultLocationCitation),
            z.object({
                type: z.literal('search_result_location')
            }).and(zResponseSearchResultLocationCitation)
        ])),
        z.null()
    ]).default(null),
    text: z.string().min(0).max(5000000),
    type: z.literal('text').default('text')
});

/**
 * ServerToolUsage
 */
export const zServerToolUsage = z.object({
    web_search_requests: z.int().gte(0).default(0)
});

/**
 * MessageDeltaUsage
 */
export const zMessageDeltaUsage = z.object({
    cache_creation_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    cache_read_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    output_tokens: z.int(),
    server_tool_use: z.union([
        zServerToolUsage,
        z.null()
    ]).default(null)
});

/**
 * SignatureContentBlockDelta
 */
export const zSignatureContentBlockDelta = z.object({
    signature: z.string(),
    type: z.literal('signature_delta').default('signature_delta')
});

/**
 * Skill
 */
export const zSkill = z.object({
    created_at: z.string(),
    display_title: z.union([
        z.string(),
        z.null()
    ]),
    id: z.string(),
    latest_version: z.union([
        z.string(),
        z.null()
    ]),
    source: z.string(),
    type: z.string().default('skill'),
    updated_at: z.string()
});

/**
 * ListSkillsResponse
 */
export const zListSkillsResponse = z.object({
    data: z.array(zSkill),
    has_more: z.boolean(),
    next_page: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * SkillVersion
 */
export const zSkillVersion = z.object({
    created_at: z.string(),
    description: z.string(),
    directory: z.string(),
    id: z.string(),
    name: z.string(),
    skill_id: z.string(),
    type: z.string().default('skill_version'),
    version: z.string()
});

/**
 * ListSkillVersionsResponse
 */
export const zListSkillVersionsResponse = z.object({
    data: z.array(zSkillVersion),
    has_more: z.boolean(),
    next_page: z.union([
        z.string(),
        z.null()
    ])
});

/**
 * Speed
 */
export const zSpeed = z.enum(['standard', 'fast']);

/**
 * TextContentBlockDelta
 */
export const zTextContentBlockDelta = z.object({
    text: z.string(),
    type: z.literal('text_delta').default('text_delta')
});

/**
 * TextEditor_20250124
 */
export const zTextEditor20250124 = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    name: z.literal('str_replace_editor'),
    strict: z.optional(z.boolean()),
    type: z.literal('text_editor_20250124')
});

/**
 * TextEditor_20250429
 */
export const zTextEditor20250429 = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    name: z.literal('str_replace_based_edit_tool'),
    strict: z.optional(z.boolean()),
    type: z.literal('text_editor_20250429')
});

/**
 * TextEditor_20250728
 */
export const zTextEditor20250728 = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    max_characters: z.optional(z.union([
        z.int().gte(1),
        z.null()
    ])),
    name: z.literal('str_replace_based_edit_tool'),
    strict: z.optional(z.boolean()),
    type: z.literal('text_editor_20250728')
});

/**
 * ThinkingConfigAdaptive
 */
export const zThinkingConfigAdaptive = z.object({
    type: z.literal('adaptive')
});

/**
 * ThinkingConfigDisabled
 */
export const zThinkingConfigDisabled = z.object({
    type: z.literal('disabled')
});

/**
 * ThinkingConfigEnabled
 */
export const zThinkingConfigEnabled = z.object({
    budget_tokens: z.int().gte(1024),
    type: z.literal('enabled')
});

/**
 * ThinkingContentBlockDelta
 */
export const zThinkingContentBlockDelta = z.object({
    thinking: z.string(),
    type: z.literal('thinking_delta').default('thinking_delta')
});

/**
 * ContentBlockDeltaEvent
 */
export const zContentBlockDeltaEvent = z.object({
    delta: z.union([
        z.object({
            type: z.literal('text_delta')
        }).and(zTextContentBlockDelta),
        z.object({
            type: z.literal('input_json_delta')
        }).and(zInputJsonContentBlockDelta),
        z.object({
            type: z.literal('citations_delta')
        }).and(zCitationsDelta),
        z.object({
            type: z.literal('thinking_delta')
        }).and(zThinkingContentBlockDelta),
        z.object({
            type: z.literal('signature_delta')
        }).and(zSignatureContentBlockDelta)
    ]),
    index: z.int(),
    type: z.literal('content_block_delta').default('content_block_delta')
});

/**
 * Tool
 */
export const zTool = z.object({
    type: z.optional(z.union([
        z.null(),
        z.literal('custom')
    ])),
    description: z.optional(z.string()),
    name: z.string().min(1).max(128).regex(/^[a-zA-Z0-9_-]{1,128}$/),
    input_schema: zInputSchema,
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    strict: z.optional(z.boolean()),
    eager_input_streaming: z.optional(z.union([
        z.boolean(),
        z.null()
    ]))
});

/**
 * ToolChoiceAny
 *
 * The model will use any available tools.
 */
export const zToolChoiceAny = z.object({
    disable_parallel_tool_use: z.optional(z.boolean()),
    type: z.literal('any')
});

/**
 * ToolChoiceAuto
 *
 * The model will automatically decide whether to use tools.
 */
export const zToolChoiceAuto = z.object({
    disable_parallel_tool_use: z.optional(z.boolean()),
    type: z.literal('auto')
});

/**
 * ToolChoiceNone
 *
 * The model will not be allowed to use tools.
 */
export const zToolChoiceNone = z.object({
    type: z.literal('none')
});

/**
 * ToolChoiceTool
 *
 * The model will use the specified tool with `tool_choice.name`.
 */
export const zToolChoiceTool = z.object({
    disable_parallel_tool_use: z.optional(z.boolean()),
    name: z.string(),
    type: z.literal('tool')
});

/**
 * URLImageSource
 */
export const zUrlImageSource = z.object({
    type: z.literal('url'),
    url: z.string()
});

/**
 * RequestImageBlock
 */
export const zRequestImageBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    source: z.union([
        z.object({
            type: z.literal('base64')
        }).and(zBase64ImageSource),
        z.object({
            type: z.literal('url')
        }).and(zUrlImageSource)
    ]),
    type: z.literal('image')
});

/**
 * ContentBlockSource
 */
export const zContentBlockSource = z.object({
    content: z.union([
        z.string(),
        z.array(z.union([z.object({
                type: z.literal('text')
            }).and(zRequestTextBlock), z.object({
                type: z.literal('image')
            }).and(zRequestImageBlock)]))
    ]),
    type: z.literal('content')
});

/**
 * URLPDFSource
 */
export const zUrlpdfSource = z.object({
    type: z.literal('url'),
    url: z.string()
});

/**
 * RequestDocumentBlock
 */
export const zRequestDocumentBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    citations: z.optional(z.union([
        zRequestCitationsConfig,
        z.null()
    ])),
    context: z.optional(z.union([
        z.string().min(1),
        z.null()
    ])),
    source: z.union([
        z.object({
            type: z.literal('base64')
        }).and(zBase64PdfSource),
        z.object({
            type: z.literal('text')
        }).and(zPlainTextSource),
        z.object({
            type: z.literal('content')
        }).and(zContentBlockSource),
        z.object({
            type: z.literal('url')
        }).and(zUrlpdfSource)
    ]),
    title: z.optional(z.union([
        z.string().min(1).max(500),
        z.null()
    ])),
    type: z.literal('document')
});

/**
 * RequestToolResultBlock
 */
export const zRequestToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    content: z.optional(z.union([
        z.string(),
        z.array(z.union([
            z.object({
                type: z.literal('text')
            }).and(zRequestTextBlock),
            z.object({
                type: z.literal('image')
            }).and(zRequestImageBlock),
            z.object({
                type: z.literal('search_result')
            }).and(zRequestSearchResultBlock),
            z.object({
                type: z.literal('document')
            }).and(zRequestDocumentBlock)
        ]))
    ])),
    is_error: z.optional(z.boolean()),
    tool_use_id: z.string().regex(/^[a-zA-Z0-9_-]+$/),
    type: z.literal('tool_result')
});

/**
 * Usage
 */
export const zUsage = z.object({
    cache_creation: z.union([
        zCacheCreation,
        z.null()
    ]).default(null),
    cache_creation_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    cache_read_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    inference_geo: z.union([
        z.string(),
        z.null()
    ]).default(null),
    input_tokens: z.int().gte(0),
    output_tokens: z.int().gte(0),
    server_tool_use: z.union([
        zServerToolUsage,
        z.null()
    ]).default(null),
    service_tier: z.union([
        z.enum([
            'standard',
            'priority',
            'batch'
        ]),
        z.null()
    ]).default(null)
});

/**
 * UserLocation
 */
export const zUserLocation = z.object({
    city: z.optional(z.union([
        z.string().min(1).max(255),
        z.null()
    ])),
    country: z.optional(z.union([
        z.string().length(2),
        z.null()
    ])),
    region: z.optional(z.union([
        z.string().min(1).max(255),
        z.null()
    ])),
    timezone: z.optional(z.union([
        z.string().min(1).max(255),
        z.null()
    ])),
    type: z.literal('approximate')
});

/**
 * WebSearchToolResultErrorCode
 */
export const zWebSearchToolResultErrorCode = z.enum([
    'invalid_tool_input',
    'unavailable',
    'max_uses_exceeded',
    'too_many_requests',
    'query_too_long',
    'request_too_large'
]);

/**
 * RequestWebSearchToolResultError
 */
export const zRequestWebSearchToolResultError = z.object({
    error_code: zWebSearchToolResultErrorCode,
    type: z.literal('web_search_tool_result_error')
});

/**
 * RequestWebSearchToolResultBlock
 */
export const zRequestWebSearchToolResultBlock = z.object({
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    content: z.union([
        z.array(zRequestWebSearchResultBlock),
        zRequestWebSearchToolResultError
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('web_search_tool_result')
});

/**
 * ResponseWebSearchToolResultError
 */
export const zResponseWebSearchToolResultError = z.object({
    error_code: zWebSearchToolResultErrorCode,
    type: z.literal('web_search_tool_result_error').default('web_search_tool_result_error')
});

/**
 * ResponseWebSearchToolResultBlock
 */
export const zResponseWebSearchToolResultBlock = z.object({
    content: z.union([
        zResponseWebSearchToolResultError,
        z.array(zResponseWebSearchResultBlock)
    ]),
    tool_use_id: z.string().regex(/^srvtoolu_[a-zA-Z0-9_]+$/),
    type: z.literal('web_search_tool_result').default('web_search_tool_result')
});

/**
 * ContentBlockStartEvent
 */
export const zContentBlockStartEvent = z.object({
    content_block: z.union([
        z.object({
            type: z.literal('text')
        }).and(zResponseTextBlock),
        z.object({
            type: z.literal('thinking')
        }).and(zResponseThinkingBlock),
        z.object({
            type: z.literal('redacted_thinking')
        }).and(zResponseRedactedThinkingBlock),
        z.object({
            type: z.literal('tool_use')
        }).and(zResponseToolUseBlock),
        z.object({
            type: z.literal('server_tool_use')
        }).and(zResponseServerToolUseBlock),
        z.object({
            type: z.literal('web_search_tool_result')
        }).and(zResponseWebSearchToolResultBlock)
    ]),
    index: z.int(),
    type: z.literal('content_block_start').default('content_block_start')
});

/**
 * WebSearchTool_20250305
 */
export const zWebSearchTool20250305 = z.object({
    allowed_domains: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    blocked_domains: z.optional(z.union([
        z.array(z.string()),
        z.null()
    ])),
    cache_control: z.optional(z.union([
        z.object({
            type: z.literal('ephemeral')
        }).and(zCacheControlEphemeral),
        z.null()
    ])),
    max_uses: z.optional(z.union([
        z.int().gt(0),
        z.null()
    ])),
    name: z.literal('web_search'),
    strict: z.optional(z.boolean()),
    type: z.literal('web_search_20250305'),
    user_location: z.optional(z.union([
        zUserLocation,
        z.null()
    ]))
});

export const zAnthropicBeta = z.union([
    z.string(),
    z.enum([
        'message-batches-2024-09-24',
        'prompt-caching-2024-07-31',
        'computer-use-2024-10-22',
        'computer-use-2025-01-24',
        'pdfs-2024-09-25',
        'token-counting-2024-11-01',
        'token-efficient-tools-2025-02-19',
        'output-128k-2025-02-19',
        'files-api-2025-04-14',
        'mcp-client-2025-04-04',
        'mcp-client-2025-11-20',
        'dev-full-thinking-2025-05-14',
        'interleaved-thinking-2025-05-14',
        'code-execution-2025-05-22',
        'extended-cache-ttl-2025-04-11',
        'context-1m-2025-08-07',
        'context-management-2025-06-27',
        'model-context-window-exceeded-2025-08-26',
        'skills-2025-10-02',
        'fast-mode-2026-02-01'
    ])
]);

/**
 * Thinking
 *
 * Configuration for enabling Claude's extended thinking.
 *
 * When enabled, responses include `thinking` content blocks showing Claude's thinking process before the final answer. Requires a minimum budget of 1,024 tokens and counts towards your `max_tokens` limit.
 *
 * See [extended thinking](https://docs.claude.com/en/docs/build-with-claude/extended-thinking) for details.
 */
export const zThinkingConfigParam = z.union([
    z.object({
        type: z.literal('enabled')
    }).and(zThinkingConfigEnabled),
    z.object({
        type: z.literal('disabled')
    }).and(zThinkingConfigDisabled),
    z.object({
        type: z.literal('adaptive')
    }).and(zThinkingConfigAdaptive)
]);

/**
 * Thinking
 *
 * Configuration for enabling Claude's extended thinking.
 *
 * When enabled, responses include `thinking` content blocks showing Claude's thinking process before the final answer. Requires a minimum budget of 1,024 tokens and counts towards your `max_tokens` limit.
 *
 * See [extended thinking](https://docs.claude.com/en/docs/build-with-claude/extended-thinking) for details.
 */
export const zBetaThinkingConfigParam = z.union([
    z.object({
        type: z.literal('enabled')
    }).and(zBetaThinkingConfigEnabled),
    z.object({
        type: z.literal('disabled')
    }).and(zBetaThinkingConfigDisabled),
    z.object({
        type: z.literal('adaptive')
    }).and(zBetaThinkingConfigAdaptive)
]);

/**
 * Tool Choice
 *
 * How the model should use the provided tools. The model can use a specific tool, any available tool, decide by itself, or not use tools at all.
 */
export const zToolChoice = z.union([
    z.object({
        type: z.literal('auto')
    }).and(zToolChoiceAuto),
    z.object({
        type: z.literal('any')
    }).and(zToolChoiceAny),
    z.object({
        type: z.literal('tool')
    }).and(zToolChoiceTool),
    z.object({
        type: z.literal('none')
    }).and(zToolChoiceNone)
]);

/**
 * Tool Choice
 *
 * How the model should use the provided tools. The model can use a specific tool, any available tool, decide by itself, or not use tools at all.
 */
export const zBetaToolChoice = z.union([
    z.object({
        type: z.literal('auto')
    }).and(zBetaToolChoiceAuto),
    z.object({
        type: z.literal('any')
    }).and(zBetaToolChoiceAny),
    z.object({
        type: z.literal('tool')
    }).and(zBetaToolChoiceTool),
    z.object({
        type: z.literal('none')
    }).and(zBetaToolChoiceNone)
]);

export const zContentBlock = z.union([
    z.object({
        type: z.literal('text')
    }).and(zResponseTextBlock),
    z.object({
        type: z.literal('thinking')
    }).and(zResponseThinkingBlock),
    z.object({
        type: z.literal('redacted_thinking')
    }).and(zResponseRedactedThinkingBlock),
    z.object({
        type: z.literal('tool_use')
    }).and(zResponseToolUseBlock),
    z.object({
        type: z.literal('server_tool_use')
    }).and(zResponseServerToolUseBlock),
    z.object({
        type: z.literal('web_search_tool_result')
    }).and(zResponseWebSearchToolResultBlock)
]);

export const zInputContentBlock = z.union([
    z.object({
        type: z.literal('text')
    }).and(zRequestTextBlock),
    z.object({
        type: z.literal('image')
    }).and(zRequestImageBlock),
    z.object({
        type: z.literal('document')
    }).and(zRequestDocumentBlock),
    z.object({
        type: z.literal('search_result')
    }).and(zRequestSearchResultBlock),
    z.object({
        type: z.literal('thinking')
    }).and(zRequestThinkingBlock),
    z.object({
        type: z.literal('redacted_thinking')
    }).and(zRequestRedactedThinkingBlock),
    z.object({
        type: z.literal('tool_use')
    }).and(zRequestToolUseBlock),
    z.object({
        type: z.literal('tool_result')
    }).and(zRequestToolResultBlock),
    z.object({
        type: z.literal('server_tool_use')
    }).and(zRequestServerToolUseBlock),
    z.object({
        type: z.literal('web_search_tool_result')
    }).and(zRequestWebSearchToolResultBlock)
]);

/**
 * InputMessage
 */
export const zInputMessage = z.object({
    content: z.union([
        z.string(),
        z.array(zInputContentBlock)
    ]),
    role: z.enum(['user', 'assistant'])
});

export const zBetaContentBlock = z.union([
    z.object({
        type: z.literal('text')
    }).and(zBetaResponseTextBlock),
    z.object({
        type: z.literal('thinking')
    }).and(zBetaResponseThinkingBlock),
    z.object({
        type: z.literal('redacted_thinking')
    }).and(zBetaResponseRedactedThinkingBlock),
    z.object({
        type: z.literal('tool_use')
    }).and(zBetaResponseToolUseBlock),
    z.object({
        type: z.literal('server_tool_use')
    }).and(zBetaResponseServerToolUseBlock),
    z.object({
        type: z.literal('web_search_tool_result')
    }).and(zBetaResponseWebSearchToolResultBlock),
    z.object({
        type: z.literal('web_fetch_tool_result')
    }).and(zBetaResponseWebFetchToolResultBlock),
    z.object({
        type: z.literal('code_execution_tool_result')
    }).and(zBetaResponseCodeExecutionToolResultBlock),
    z.object({
        type: z.literal('bash_code_execution_tool_result')
    }).and(zBetaResponseBashCodeExecutionToolResultBlock),
    z.object({
        type: z.literal('text_editor_code_execution_tool_result')
    }).and(zBetaResponseTextEditorCodeExecutionToolResultBlock),
    z.object({
        type: z.literal('tool_search_tool_result')
    }).and(zBetaResponseToolSearchToolResultBlock),
    z.object({
        type: z.literal('mcp_tool_use')
    }).and(zBetaResponseMcpToolUseBlock),
    z.object({
        type: z.literal('mcp_tool_result')
    }).and(zBetaResponseMcpToolResultBlock),
    z.object({
        type: z.literal('container_upload')
    }).and(zBetaResponseContainerUploadBlock),
    z.object({
        type: z.literal('compaction')
    }).and(zBetaResponseCompactionBlock)
]);

export const zBetaInputContentBlock = z.union([
    z.object({
        type: z.literal('text')
    }).and(zBetaRequestTextBlock),
    z.object({
        type: z.literal('image')
    }).and(zBetaRequestImageBlock),
    z.object({
        type: z.literal('document')
    }).and(zBetaRequestDocumentBlock),
    z.object({
        type: z.literal('search_result')
    }).and(zBetaRequestSearchResultBlock),
    z.object({
        type: z.literal('thinking')
    }).and(zBetaRequestThinkingBlock),
    z.object({
        type: z.literal('redacted_thinking')
    }).and(zBetaRequestRedactedThinkingBlock),
    z.object({
        type: z.literal('tool_use')
    }).and(zBetaRequestToolUseBlock),
    z.object({
        type: z.literal('tool_result')
    }).and(zBetaRequestToolResultBlock),
    z.object({
        type: z.literal('server_tool_use')
    }).and(zBetaRequestServerToolUseBlock),
    z.object({
        type: z.literal('web_search_tool_result')
    }).and(zBetaRequestWebSearchToolResultBlock),
    z.object({
        type: z.literal('web_fetch_tool_result')
    }).and(zBetaRequestWebFetchToolResultBlock),
    z.object({
        type: z.literal('code_execution_tool_result')
    }).and(zBetaRequestCodeExecutionToolResultBlock),
    z.object({
        type: z.literal('bash_code_execution_tool_result')
    }).and(zBetaRequestBashCodeExecutionToolResultBlock),
    z.object({
        type: z.literal('text_editor_code_execution_tool_result')
    }).and(zBetaRequestTextEditorCodeExecutionToolResultBlock),
    z.object({
        type: z.literal('tool_search_tool_result')
    }).and(zBetaRequestToolSearchToolResultBlock),
    z.object({
        type: z.literal('mcp_tool_use')
    }).and(zBetaRequestMcpToolUseBlock),
    z.object({
        type: z.literal('mcp_tool_result')
    }).and(zBetaRequestMcpToolResultBlock),
    z.object({
        type: z.literal('container_upload')
    }).and(zBetaRequestContainerUploadBlock),
    z.object({
        type: z.literal('compaction')
    }).and(zBetaRequestCompactionBlock)
]);

/**
 * InputMessage
 */
export const zBetaInputMessage = z.object({
    content: z.union([
        z.string(),
        z.array(zBetaInputContentBlock)
    ]),
    role: z.enum(['user', 'assistant'])
});

export const zStopReason = z.enum([
    'end_turn',
    'max_tokens',
    'stop_sequence',
    'tool_use',
    'pause_turn',
    'refusal'
]);

/**
 * MessageDelta
 */
export const zMessageDelta = z.object({
    stop_reason: z.union([
        zStopReason,
        z.null()
    ]).default(null),
    stop_sequence: z.union([
        z.string(),
        z.null()
    ]).default(null)
});

/**
 * MessageDeltaEvent
 */
export const zMessageDeltaEvent = z.object({
    delta: zMessageDelta,
    type: z.literal('message_delta').default('message_delta'),
    usage: zMessageDeltaUsage
});

export const zBetaStopReason = z.enum([
    'end_turn',
    'max_tokens',
    'stop_sequence',
    'tool_use',
    'pause_turn',
    'compaction',
    'refusal',
    'model_context_window_exceeded'
]);

/**
 * MessageDelta
 */
export const zBetaMessageDelta = z.object({
    container: z.union([
        zBetaContainer,
        z.null()
    ]).default(null),
    stop_reason: z.union([
        zBetaStopReason,
        z.null()
    ]).default(null),
    stop_sequence: z.union([
        z.string(),
        z.null()
    ]).default(null)
});

/**
 * Model
 *
 * The model that will complete your prompt.\n\nSee [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.
 */
export const zModel = z.union([
    z.string(),
    z.literal('claude-opus-4-6'),
    z.literal('claude-opus-4-5-20251101'),
    z.literal('claude-opus-4-5'),
    z.literal('claude-3-7-sonnet-latest'),
    z.literal('claude-3-7-sonnet-20250219'),
    z.literal('claude-3-5-haiku-latest'),
    z.literal('claude-3-5-haiku-20241022'),
    z.literal('claude-haiku-4-5'),
    z.literal('claude-haiku-4-5-20251001'),
    z.literal('claude-sonnet-4-20250514'),
    z.literal('claude-sonnet-4-0'),
    z.literal('claude-4-sonnet-20250514'),
    z.literal('claude-sonnet-4-5'),
    z.literal('claude-sonnet-4-5-20250929'),
    z.literal('claude-opus-4-0'),
    z.literal('claude-opus-4-20250514'),
    z.literal('claude-4-opus-20250514'),
    z.literal('claude-opus-4-1-20250805'),
    z.literal('claude-3-opus-latest'),
    z.literal('claude-3-opus-20240229'),
    z.literal('claude-3-haiku-20240307')
]);

/**
 * CountMessageTokensParams
 */
export const zBetaCountMessageTokensParams = z.object({
    context_management: z.optional(z.union([
        zBetaContextManagementConfig,
        z.null()
    ])),
    mcp_servers: z.optional(z.array(zBetaRequestMcpServerUrlDefinition).max(20)),
    messages: z.array(zBetaInputMessage),
    model: zModel,
    output_config: z.optional(zBetaOutputConfig),
    output_format: z.optional(z.union([
        zBetaJsonOutputFormat,
        z.null()
    ])),
    speed: z.optional(z.union([
        zBetaSpeed,
        z.null()
    ])),
    system: z.optional(z.union([
        z.string(),
        z.array(zBetaRequestTextBlock)
    ])),
    thinking: z.optional(zBetaThinkingConfigParam),
    tool_choice: z.optional(zBetaToolChoice),
    tools: z.optional(z.array(z.union([
        zBetaTool,
        zBetaBashTool20241022,
        zBetaBashTool20250124,
        zBetaCodeExecutionTool20250522,
        zBetaCodeExecutionTool20250825,
        zBetaComputerUseTool20241022,
        zBetaMemoryTool20250818,
        zBetaComputerUseTool20250124,
        zBetaTextEditor20241022,
        zBetaComputerUseTool20251124,
        zBetaTextEditor20250124,
        zBetaTextEditor20250429,
        zBetaTextEditor20250728,
        zBetaWebSearchTool20250305,
        zBetaWebFetchTool20250910,
        zBetaToolSearchToolBm2520251119,
        zBetaToolSearchToolRegex20251119,
        zBetaMcpToolset
    ])))
});

/**
 * CreateMessageParams
 */
export const zBetaCreateMessageParams = z.object({
    model: zModel,
    messages: z.array(zBetaInputMessage),
    container: z.optional(z.union([
        zBetaContainerParams,
        z.string(),
        z.null()
    ])),
    context_management: z.optional(z.union([
        zBetaContextManagementConfig,
        z.null()
    ])),
    inference_geo: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    max_tokens: z.int().gte(1),
    mcp_servers: z.optional(z.array(zBetaRequestMcpServerUrlDefinition).max(20)),
    metadata: z.optional(zBetaMetadata),
    output_config: z.optional(zBetaOutputConfig),
    output_format: z.optional(z.union([
        zBetaJsonOutputFormat,
        z.null()
    ])),
    service_tier: z.optional(z.enum(['auto', 'standard_only'])),
    speed: z.optional(z.union([
        zBetaSpeed,
        z.null()
    ])),
    stop_sequences: z.optional(z.array(z.string())),
    stream: z.optional(z.boolean()),
    system: z.optional(z.union([
        z.string(),
        z.array(zBetaRequestTextBlock)
    ])),
    temperature: z.optional(z.number().gte(0).lte(1)),
    thinking: z.optional(zBetaThinkingConfigParam),
    tool_choice: z.optional(zBetaToolChoice),
    tools: z.optional(z.array(z.union([
        zBetaTool,
        zBetaBashTool20241022,
        zBetaBashTool20250124,
        zBetaCodeExecutionTool20250522,
        zBetaCodeExecutionTool20250825,
        zBetaComputerUseTool20241022,
        zBetaMemoryTool20250818,
        zBetaComputerUseTool20250124,
        zBetaTextEditor20241022,
        zBetaComputerUseTool20251124,
        zBetaTextEditor20250124,
        zBetaTextEditor20250429,
        zBetaTextEditor20250728,
        zBetaWebSearchTool20250305,
        zBetaWebFetchTool20250910,
        zBetaToolSearchToolBm2520251119,
        zBetaToolSearchToolRegex20251119,
        zBetaMcpToolset
    ]))),
    top_k: z.optional(z.int().gte(0)),
    top_p: z.optional(z.number().gte(0).lte(1))
});

/**
 * MessageBatchIndividualRequestParams
 */
export const zBetaMessageBatchIndividualRequestParams = z.object({
    custom_id: z.string().min(1).max(64).regex(/^[a-zA-Z0-9_-]{1,64}$/),
    params: zBetaCreateMessageParams
});

/**
 * CreateMessageBatchParams
 */
export const zBetaCreateMessageBatchParams = z.object({
    requests: z.array(zBetaMessageBatchIndividualRequestParams).min(1).max(100000)
});

/**
 * CompletionRequest
 */
export const zCompletionRequest = z.object({
    model: zModel,
    prompt: z.string().min(1),
    max_tokens_to_sample: z.int().gte(1),
    stop_sequences: z.optional(z.array(z.string())),
    temperature: z.optional(z.number().gte(0).lte(1)),
    top_p: z.optional(z.number().gte(0).lte(1)),
    top_k: z.optional(z.int().gte(0)),
    metadata: z.optional(zMetadata),
    stream: z.optional(z.boolean())
});

/**
 * CompletionResponse
 */
export const zCompletionResponse = z.object({
    completion: z.string(),
    id: z.string(),
    model: zModel,
    stop_reason: z.union([
        z.string(),
        z.null()
    ]),
    type: z.literal('completion').default('completion')
});

/**
 * CountMessageTokensParams
 */
export const zCountMessageTokensParams = z.object({
    messages: z.array(zInputMessage),
    model: zModel,
    output_config: z.optional(zOutputConfig),
    system: z.optional(z.union([
        z.string(),
        z.array(zRequestTextBlock)
    ])),
    thinking: z.optional(zThinkingConfigParam),
    tool_choice: z.optional(zToolChoice),
    tools: z.optional(z.array(z.union([
        zTool,
        zBashTool20250124,
        zTextEditor20250124,
        zTextEditor20250429,
        zTextEditor20250728,
        zWebSearchTool20250305
    ])))
});

/**
 * CreateMessageParams
 */
export const zCreateMessageParams = z.object({
    model: zModel,
    messages: z.array(zInputMessage),
    inference_geo: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    max_tokens: z.int().gte(1),
    metadata: z.optional(zMetadata),
    output_config: z.optional(zOutputConfig),
    service_tier: z.optional(z.enum(['auto', 'standard_only'])),
    stop_sequences: z.optional(z.array(z.string())),
    stream: z.optional(z.boolean()),
    system: z.optional(z.union([
        z.string(),
        z.array(zRequestTextBlock)
    ])),
    temperature: z.optional(z.number().gte(0).lte(1)),
    thinking: z.optional(zThinkingConfigParam),
    tool_choice: z.optional(zToolChoice),
    tools: z.optional(z.array(z.union([
        zTool,
        zBashTool20250124,
        zTextEditor20250124,
        zTextEditor20250429,
        zTextEditor20250728,
        zWebSearchTool20250305
    ]))),
    top_k: z.optional(z.int().gte(0)),
    top_p: z.optional(z.number().gte(0).lte(1))
});

/**
 * Message
 */
export const zMessage = z.object({
    id: z.string(),
    type: z.literal('message').default('message'),
    role: z.literal('assistant').default('assistant'),
    content: z.array(zContentBlock),
    model: zModel,
    stop_reason: z.union([
        zStopReason,
        z.null()
    ]),
    stop_sequence: z.union([
        z.string(),
        z.null()
    ]).default(null),
    usage: zUsage
});

/**
 * MessageBatchIndividualRequestParams
 */
export const zMessageBatchIndividualRequestParams = z.object({
    custom_id: z.string().min(1).max(64).regex(/^[a-zA-Z0-9_-]{1,64}$/),
    params: zCreateMessageParams
});

/**
 * CreateMessageBatchParams
 */
export const zCreateMessageBatchParams = z.object({
    requests: z.array(zMessageBatchIndividualRequestParams).min(1).max(100000)
});

/**
 * MessageStartEvent
 */
export const zMessageStartEvent = z.object({
    message: zMessage,
    type: z.literal('message_start').default('message_start')
});

/**
 * MessageStreamEvent
 */
export const zMessageStreamEvent = z.union([
    z.object({
        type: z.literal('message_start')
    }).and(zMessageStartEvent),
    z.object({
        type: z.literal('message_delta')
    }).and(zMessageDeltaEvent),
    z.object({
        type: z.literal('message_stop')
    }).and(zMessageStopEvent),
    z.object({
        type: z.literal('content_block_start')
    }).and(zContentBlockStartEvent),
    z.object({
        type: z.literal('content_block_delta')
    }).and(zContentBlockDeltaEvent),
    z.object({
        type: z.literal('content_block_stop')
    }).and(zContentBlockStopEvent)
]);

/**
 * SucceededResult
 */
export const zSucceededResult = z.object({
    message: zMessage,
    type: z.literal('succeeded').default('succeeded')
});

/**
 * MessageBatchIndividualResponse
 *
 * This is a single line in the response `.jsonl` file and does not represent the response as a whole.
 */
export const zMessageBatchIndividualResponse = z.object({
    custom_id: z.string(),
    result: z.union([
        z.object({
            type: z.literal('succeeded')
        }).and(zSucceededResult),
        z.object({
            type: z.literal('errored')
        }).and(zErroredResult),
        z.object({
            type: z.literal('canceled')
        }).and(zCanceledResult),
        z.object({
            type: z.literal('expired')
        }).and(zExpiredResult)
    ])
});

/**
 * CreateMessageParams
 */
export const zCreateMessageParamsWithoutStream = z.object({
    model: zModel,
    messages: z.array(zInputMessage),
    inference_geo: z.optional(z.union([
        z.string(),
        z.null()
    ])),
    max_tokens: z.int().gte(1),
    metadata: z.optional(zMetadata),
    output_config: z.optional(zOutputConfig),
    service_tier: z.optional(z.enum(['auto', 'standard_only'])),
    speed: z.optional(z.union([
        zSpeed,
        z.null()
    ])),
    stop_sequences: z.optional(z.array(z.string())),
    system: z.optional(z.union([
        z.string(),
        z.array(zRequestTextBlock)
    ])),
    temperature: z.optional(z.number().gte(0).lte(1)),
    thinking: z.optional(zThinkingConfigParam),
    tool_choice: z.optional(zToolChoice),
    tools: z.optional(z.array(z.union([
        zTool,
        zBashTool20250124,
        zTextEditor20250124,
        zTextEditor20250429,
        zTextEditor20250728,
        zWebSearchTool20250305
    ]))),
    top_k: z.optional(z.int().gte(0)),
    top_p: z.optional(z.number().gte(0).lte(1))
});

export const zBetaMemoryTool20250818ViewCommand = z.object({
    command: z.enum(['view']),
    path: z.string(),
    view_range: z.optional(z.tuple([z.int(), z.int()]))
});

export const zBetaMemoryTool20250818CreateCommand = z.object({
    command: z.enum(['create']),
    path: z.string(),
    file_text: z.string()
});

export const zBetaMemoryTool20250818StrReplaceCommand = z.object({
    command: z.enum(['str_replace']),
    path: z.string(),
    old_str: z.string(),
    new_str: z.string()
});

export const zBetaMemoryTool20250818InsertCommand = z.object({
    command: z.enum(['insert']),
    path: z.string(),
    insert_line: z.int().gte(1),
    insert_text: z.string()
});

export const zBetaMemoryTool20250818DeleteCommand = z.object({
    command: z.enum(['delete']),
    path: z.string()
});

export const zBetaMemoryTool20250818RenameCommand = z.object({
    command: z.enum(['rename']),
    old_path: z.string(),
    new_path: z.string()
});

export const zBetaMemoryTool20250818Command = z.union([
    z.object({
        command: z.literal('view')
    }).and(zBetaMemoryTool20250818ViewCommand),
    z.object({
        command: z.literal('create')
    }).and(zBetaMemoryTool20250818CreateCommand),
    z.object({
        command: z.literal('str_replace')
    }).and(zBetaMemoryTool20250818StrReplaceCommand),
    z.object({
        command: z.literal('insert')
    }).and(zBetaMemoryTool20250818InsertCommand),
    z.object({
        command: z.literal('delete')
    }).and(zBetaMemoryTool20250818DeleteCommand),
    z.object({
        command: z.literal('rename')
    }).and(zBetaMemoryTool20250818RenameCommand)
]);

/**
 * Iterations
 *
 * Per-iteration token usage breakdown.
 *
 * Each entry represents one sampling iteration, with its own input/output token counts and cache statistics. This allows you to:
 * - Determine which iterations exceeded long context thresholds (>=200k tokens)
 * - Calculate the true context window size from the last iteration
 * - Understand token accumulation across server-side tool use loops
 */
export const zBetaIterationsUsage = z.union([
    z.array(z.union([zBetaMessageIterationUsage, zBetaCompactionIterationUsage])),
    z.null()
]).default(null);

/**
 * MessageDeltaUsage
 */
export const zBetaMessageDeltaUsage = z.object({
    cache_creation_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    cache_read_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    iterations: zBetaIterationsUsage,
    output_tokens: z.int(),
    server_tool_use: z.union([
        zBetaServerToolUsage,
        z.null()
    ]).default(null)
});

/**
 * MessageDeltaEvent
 */
export const zBetaMessageDeltaEvent = z.object({
    context_management: z.union([
        zBetaResponseContextManagement,
        z.null()
    ]).default(null),
    delta: zBetaMessageDelta,
    type: z.literal('message_delta').default('message_delta'),
    usage: zBetaMessageDeltaUsage
});

/**
 * Usage
 */
export const zBetaUsage = z.object({
    cache_creation: z.union([
        zBetaCacheCreation,
        z.null()
    ]).default(null),
    cache_creation_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    cache_read_input_tokens: z.union([
        z.int().gte(0),
        z.null()
    ]).default(null),
    inference_geo: z.union([
        z.string(),
        z.null()
    ]).default(null),
    input_tokens: z.int().gte(0),
    iterations: zBetaIterationsUsage,
    output_tokens: z.int().gte(0),
    server_tool_use: z.union([
        zBetaServerToolUsage,
        z.null()
    ]).default(null),
    service_tier: z.union([
        z.enum([
            'standard',
            'priority',
            'batch'
        ]),
        z.null()
    ]).default(null),
    speed: z.union([
        zBetaSpeed,
        z.null()
    ]).default(null)
});

/**
 * Message
 */
export const zBetaMessage = z.object({
    id: z.string(),
    type: z.literal('message').default('message'),
    role: z.literal('assistant').default('assistant'),
    content: z.array(zBetaContentBlock),
    model: zModel,
    stop_reason: z.union([
        zBetaStopReason,
        z.null()
    ]),
    stop_sequence: z.union([
        z.string(),
        z.null()
    ]).default(null),
    usage: zBetaUsage,
    context_management: z.union([
        zBetaResponseContextManagement,
        z.null()
    ]).default(null),
    container: z.union([
        zBetaContainer,
        z.null()
    ]).default(null)
});

/**
 * MessageStartEvent
 */
export const zBetaMessageStartEvent = z.object({
    message: zBetaMessage,
    type: z.literal('message_start').default('message_start')
});

/**
 * MessageStreamEvent
 */
export const zBetaMessageStreamEvent = z.union([
    z.object({
        type: z.literal('message_start')
    }).and(zBetaMessageStartEvent),
    z.object({
        type: z.literal('message_delta')
    }).and(zBetaMessageDeltaEvent),
    z.object({
        type: z.literal('message_stop')
    }).and(zBetaMessageStopEvent),
    z.object({
        type: z.literal('content_block_start')
    }).and(zBetaContentBlockStartEvent),
    z.object({
        type: z.literal('content_block_delta')
    }).and(zBetaContentBlockDeltaEvent),
    z.object({
        type: z.literal('content_block_stop')
    }).and(zBetaContentBlockStopEvent)
]);

/**
 * SucceededResult
 */
export const zBetaSucceededResult = z.object({
    message: zBetaMessage,
    type: z.literal('succeeded').default('succeeded')
});

/**
 * MessageBatchIndividualResponse
 *
 * This is a single line in the response `.jsonl` file and does not represent the response as a whole.
 */
export const zBetaMessageBatchIndividualResponse = z.object({
    custom_id: z.string(),
    result: z.union([
        z.object({
            type: z.literal('succeeded')
        }).and(zBetaSucceededResult),
        z.object({
            type: z.literal('errored')
        }).and(zBetaErroredResult),
        z.object({
            type: z.literal('canceled')
        }).and(zBetaCanceledResult),
        z.object({
            type: z.literal('expired')
        }).and(zBetaExpiredResult)
    ])
});
